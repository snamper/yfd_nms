webpackJsonp([8],{"0q4D":function(e,t,a){"use strict";function l(e){a("ZW/H")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("R2SV"),s=a("4V8G"),n=a("04Cm"),o={data:function(){return{pa:1,openLayer:"login",startTime:"",endTime:"",operator:"",phone:"",radio:"1,2",optype:"1,2",opcontent:"1,2",timeType:"a",searchList:"",detailsList:"",off:{showSearch:"",logDet:!1},form:{page:0},pickerOptionsS:{disabledDate:function(e){var t=(new Date).getTime(),a=new Date(t).getFullYear(),l=new Date(t).getMonth()+1,r=(new Date(t).getDate(),l+1),s=a+"/"+l+"/1",n=a+"/"+r+"/1",o=new Date(n)-864e5;return s=new Date(s).getTime(),e.getTime()>o||e.getTime()<s}},pickerOptionsE:{disabledDate:function(e){var t=(new Date).getTime(),a=new Date(t).getFullYear(),l=new Date(t).getMonth()+1,r=(new Date(t).getDate(),l+1),s=a+"/"+l+"/1",n=a+"/"+r+"/1",o=new Date(n)-864e5;return s=new Date(s).getTime(),e.getTime()>o||e.getTime()<s}}}},created:function(){var e=this;e.off.showSearch=e.$route.name;var t=(new Date).getTime(),a=new Date(t).getMonth()+1,l=new Date(t).getFullYear(),r=new Date(t).getDate()+1,s=l+"/"+a+"/1",n=l+"/"+a+"/"+r;e.startTime=new Date(s).getTime(),e.endTime=new Date(n).getTime()-1e3},beforeDestroy:function(){},mounted:function(){},computed:{},components:{"log-details":s.a},methods:{search:function(e){var t=this;t.pa=e||1;var a={startRecordTime:new Date(t.startTime).getTime(),endRecordTime:new Date(t.endTime).getTime(),operatorName:t.operator,phone:t.phone,recordResult:t.radio,recordType:t.optype,sessionPlatform:t.opcontent,pageNum:e||1,pageSize:10};Object(n.requestMethod)(a,"/yfd-ors/w/record/loginRecordSearch").then(function(e){200==e.code?(t.form.page=e.data.total,t.searchList=e.data.records):Object(r.errorDeal)(e)}).catch(function(e){return Object(r.errorDeal)(e)})},openDetails:function(e){var t=this;t.off.logDet=!0;var a={searchRecordId:e.recordId,searchRecordTime:e.recordTime};Object(n.requestMethod)(a,"/yfd-ors/w/record/getLoginRecordDetail").then(function(e){200==e.code?t.detailsList=e.data:Object(r.errorDeal)(e)}).catch(function(e){return Object(r.errorDeal)(e)})}}},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"dls greyFont"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark searchTitleStyle blackFont"},[e._v("搜索条件")])])],1),e._v(" "),a("el-row",{staticStyle:{height:"40px","line-height":"40px"}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-col",{attrs:{xs:4,sm:6,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[e._v("操作时间：")])]),e._v(" "),a("el-col",{attrs:{xs:20,sm:12,md:12,lg:16,xl:16}},[a("el-date-picker",{attrs:{size:"small",type:"datetime","picker-options":e.pickerOptionsS,placeholder:"选择开始时间"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}),e._v(" "),a("span",[e._v("——")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"datetime","picker-options":e.pickerOptionsE,placeholder:"选择结束时间"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),e._v(" "),a("el-col",{attrs:{span:2}})],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:4,sm:6,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[e._v("操作人姓名：")])]),e._v(" "),a("el-col",{attrs:{xs:20,sm:12,md:12,lg:16,xl:16}},[a("el-input",{attrs:{size:"small",placeholder:"请输入查询的联系人姓名"},model:{value:e.operator,callback:function(t){e.operator=t},expression:"operator"}})],1),e._v(" "),a("el-col",{attrs:{span:2}})],1)])],1),e._v(" "),a("el-row",{staticClass:"marginTop"},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:4,sm:6,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[e._v("操作类型：")])]),e._v(" "),a("el-col",{attrs:{xs:20,sm:12,md:12,lg:16,xl:16}},[a("el-radio",{attrs:{label:"1,2"},model:{value:e.optype,callback:function(t){e.optype=t},expression:"optype"}},[e._v("全部")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.optype,callback:function(t){e.optype=t},expression:"optype"}},[e._v("登录")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.optype,callback:function(t){e.optype=t},expression:"optype"}},[e._v("登出")])],1),e._v(" "),a("el-col",{attrs:{span:2}})],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:4,sm:6,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[e._v("手机号码：")])]),e._v(" "),a("el-col",{attrs:{xs:20,sm:12,md:12,lg:16,xl:16}},[a("el-input",{attrs:{size:"small",placeholder:"请输入查询的手机号码"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),e._v(" "),a("el-col",{attrs:{span:2}})],1)])],1),e._v(" "),a("el-row",{staticClass:"marginTop"},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:4,sm:6,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[e._v("登录方式：")])]),e._v(" "),a("el-col",{attrs:{xs:20,sm:12,md:12,lg:16,xl:16}},[a("el-radio",{attrs:{label:"1,2"},model:{value:e.opcontent,callback:function(t){e.opcontent=t},expression:"opcontent"}},[e._v("全部")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.opcontent,callback:function(t){e.opcontent=t},expression:"opcontent"}},[e._v("PC")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.opcontent,callback:function(t){e.opcontent=t},expression:"opcontent"}},[e._v("App")])],1),e._v(" "),a("el-col",{attrs:{span:2}})],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:4,sm:6,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[e._v("操作结果：")])]),e._v(" "),a("el-col",{attrs:{xs:20,sm:12,md:12,lg:16,xl:16}},[a("el-radio",{attrs:{label:"1,2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("全部")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("成功")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("失败")])],1),e._v(" "),a("el-col",{attrs:{span:2}})],1)])],1),e._v(" "),a("el-row",{staticClass:"marginTop",staticStyle:{"text-align":"center"}},[a("button",{staticClass:"searchBtn",on:{click:function(t){e.search()}}},[e._v("搜索")])])],1),e._v(" "),e.form.page>0?a("div",[a("div",{staticClass:"listTitleFoot"},[a("span",[e._v("登录日志列表("+e._s(e.form.page)+")")]),a("el-button",{staticClass:"fr",attrs:{type:"success",size:"small"}},[e._v("导出数据")])],1),e._v(" "),a("div",{staticClass:"detailsListDiv"},[a("table",{staticClass:"searchTab",staticStyle:{width:"100%",height:"100%"}},[e._m(0),e._v(" "),e._l(e.searchList,function(t,l){return a("tr",{key:l},[a("td",[e._v("\n                      "+e._s(10*(e.pa-1)+(l+1))+"\n                  ")]),e._v(" "),a("td",[e._v("\n                      "+e._s(new Date(t.recordTime).toLocaleString())+"\n                  ")]),e._v(" "),a("td",[e._v("\n                      "+e._s(t.operatorName)+"\n                  ")]),e._v(" "),a("td",[e._v("\n                      "+e._s(t.phone)+"\n                  ")]),e._v(" "),a("td",[e._v("\n                      "+e._s(t.departName||"--")+"\n                  ")]),e._v(" "),a("td",[1==t.recordType?a("span",[e._v("登录")]):e._e(),e._v(" "),2==t.recordType?a("span",[e._v("登出")]):e._e()]),e._v(" "),a("td",[1==t.sessionPlatform?a("span",[e._v("PC")]):e._e(),e._v(" "),2==t.sessionPlatform?a("span",[e._v("APP")]):e._e()]),e._v(" "),a("td",[1==t.recordResult?a("span",[e._v("成功")]):e._e(),e._v(" "),2==t.recordResult?a("span",[e._v("失败")]):e._e()]),e._v(" "),e._m(1,!0),e._v(" "),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){e.openDetails(t)}}},[e._v("查看详情")])])])})],2)]),e._v(" "),a("div",{staticClass:"listTitleFoot"},[a("el-row",[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":10,total:e.form.page},on:{"current-change":e.search}})],1)])],1)],1)]):e._e(),e._v(" "),e.off.logDet?a("log-details",{attrs:{layerType:e.openLayer,detailsData:e.detailsList}}):e._e()],1)},c=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",[e._v("序号")]),e._v(" "),a("td",[e._v("操作时间")]),e._v(" "),a("td",[e._v("操作人")]),e._v(" "),a("td",[e._v("手机号码")]),e._v(" "),a("td",[e._v("公司名称")]),e._v(" "),a("td",[e._v("操作类型")]),e._v(" "),a("td",[e._v("登录方式")]),e._v(" "),a("td",[e._v("操作结果")]),e._v(" "),a("td",[e._v("当前状态")]),e._v(" "),a("td",[e._v("操作")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("span",[e._v("--")])])}],d={render:i,staticRenderFns:c},p=d,v=a("Z0/y"),g=l,m=v(o,p,!1,g,null,null);t.default=m.exports},EcLz:function(e,t,a){t=e.exports=a("UTlt")(!1),t.push([e.i,"\n.searchTitleStyle {padding:0px 30px;font-size: 16px;\n}\r\n/* .el-row.marginTop{margin-top: 18px;} */\n.el-row .textR{text-align: right;height: 100%\n}\n.el-row .textL{text-align: left;\n}\n.inputTitle{font-size: .14rem;\n}\ntable.searchTab{border-collapse:collapse;text-align: center\n}\ntable.searchTab a{color:#43AAD4\n}\ntable.searchTab a:active{color:rgb(82, 24, 241)\n}\ntable.searchTab tr td{ border-bottom:1px solid rgb(235, 235, 235);\n}\ntable.searchTab tr td:last-child{ border-bottom:none;\n}\ntable.searchTab tr{height:35px;\n}\ntable.searchTab tr:nth-child(even){background: #FAFBFD;\n}\ndiv.detailsListDiv{margin: 10px 20px;border: 1px solid #ccc;\n}\n.searchBtn{width: 140px;height: 36px;background: #FE8800;border: 1px solid #FE8800;outline: none;border-radius: 8px;color: white\n}\n.searchBtn:active{-webkit-box-shadow: 0 0 5px red;box-shadow: 0 0 5px red\n}\n.grey{color: grey\n}\ndiv.listTitleFoot {\r\n  width: 96%;\r\n  height: 28px;\r\n  margin: 10px 18px;\n}\ndiv.detailsListDiv tr td {\r\n  text-align: center;\n}\r\n",""])},"ZW/H":function(e,t,a){var l=a("EcLz");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("FIqI")("c5e730b6",l,!0,{})}});