webpackJsonp([10],{"9jx4":function(e,t,a){t=e.exports=a("UTlt")(!1),t.push([e.i,"\n.m-search-title {padding:0px 30px;font-size: 16px;\n}\n.el-row .f-ta-r{text-align: right;height: 100%\n}\n.el-row .textL{text-align: left;\n}\n.inputTitle{font-size: .14rem;\n}\ntable.m-searchTab{border-collapse:collapse;text-align: center;font-size: 14px;\n}\ntable.m-searchTab a{color:#43AAD4;cursor: pointer;\n}\ntable.m-searchTab a:active{color:rgb(82, 24, 241)\n}\ntable.m-searchTab tr td{ border-bottom:1px solid rgb(235, 235, 235);\n}\ntable.m-searchTab tr{height:35px;\n}\ntable.m-searchTab tr:nth-child(even){background: #fff;\n}\ntable{color: black\n}\ndiv.m-details{margin: 0px 20px;border: 1px solid #ccc;\n}\n.m-btn-orange{width: 140px;height: 36px;background: #FE8800;border: 1px solid #FE8800;outline: none;border-radius: 8px;color: white\n}\n.m-btn-orange:active{-webkit-box-shadow: 0 0 5px red;box-shadow: 0 0 5px red\n}\n.grey{color: grey\n}\n.fs16{font-size: 16px;\n}\n.f-td-underline{text-decoration: underline\n}\n.fcdb{color: rgb(57, 67, 180)\n}\n.fcb{color: black !important\n}\n.blue{color: #43AAD4 !important\n}\n.green{color: #008800\n}\n.red{color:red\n}\n.m-adminIcon{width: 14px;height: 14px;\n}\n.allDetails .m-details .m-searchTab{text-align:left;\n}\n.allDetails .m-details .m-searchTab tr td{padding-left: 40px;\n}\n.m-headBar{line-height: 45px ;margin-right:1%;margin-left:1%;border-bottom: 1px solid #ccc;height:45px!important;\n}\r\n/* div.m-listTitleFoot{width: 96%;margin: 10px 18px;}\r\ndiv.m-details tr td{text-align: center;} */\r\n",""])},J07c:function(e,t,a){"use strict";function r(e){a("LO9R")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("R2SV"),l=a("4V8G"),s=a("04Cm"),i={data:function(){return{detRecordType:"",pa:1,startTime:"",endTime:"",operatorPhone:"",syncType:"0",recordType:"0",recordResult:"0",openLayer:"sync",getSyncTime:"",operatorName:"",off:{showSearch:"",logDet:!1},form:{page:0,detailsList:"",searchList:"",syncLogType:""},pickerOptionsS:{disabledDate:function(e){var t=(new Date).getTime(),a=new Date(t).getFullYear(),r=new Date(t).getMonth()+1,n=r-5,l=a;n<0&&(n+=12,l=a-1);var s=(new Date(t).getDate(),r+1),i=l+"/"+n+"/1",o=a+"/"+s+"/1",c=new Date(o)-864e5;return i=new Date(i).getTime(),e.getTime()>c||e.getTime()<i}},pickerOptionsE:{disabledDate:function(e){var t=(new Date).getTime(),a=new Date(t).getFullYear(),r=new Date(t).getMonth()+1,n=r-5,l=a;n<0&&(n+=12,l=a-1);var s=(new Date(t).getDate(),r+1),i=l+"/"+n+"/1",o=a+"/"+s+"/1",c=new Date(o)-864e5;return i=new Date(i).getTime(),e.getTime()>c||e.getTime()<i}}}},created:function(){Object(n.getTimeFunction)(this)},beforeDestroy:function(){},mounted:function(){},computed:{},components:{"log-details":l.a},methods:{search:function(e){""!=this.operatorPhone&&Object(n.checkMobile)(this.operatorPhone,function(){return!1});var t=this,a=new Date(t.startTime).getFullYear(),r=new Date(t.startTime).getMonth(),l=new Date(t.endTime).getFullYear(),i=new Date(t.endTime).getMonth();if(a!=l||r!=i)return layer.open({content:"开始和结束日期不能跨月",skin:"msg",time:2,msgSkin:"error"}),!1;if(new Date(t.startTime).getTime()>new Date(t.endTime).getTime())return layer.open({content:"开始时间必须小于结束时间",skin:"msg",time:2,msgSkin:"error"}),!1;t.pa=e||1;var o={startOperateTime:new Date(t.startTime).getTime(),endOperateTime:new Date(t.endTime).getTime(),operatorName:t.operatorName,operatorPhone:t.operatorPhone,pageNum:e||1,pageSize:15,syncType:t.syncType,recordType:t.recordType,recordResult:t.recordResult};Object(s.requestSyncLogSearch)(o).then(function(e){200==e.code?(t.form.page=e.data.total,t.form.searchList=e.data.records):Object(n.errorDeal)(e)}).catch(function(e){return Object(n.errorDeal)(e)})},details:function(e,t){var a=this;a.recordType;a.form.detailsList=e,a.off.logDet=!0,a.detRecordType=t},changeTimeS:function(e){var t=this,a=Object(n.disableTimeRange6)(),r=a.next,l=a.nextYesterday,s=new Date(e).getTime();s<r&&(t.startTime=r),s>l&&(t.startTime=l),Object(n.getTimeFunction)(this,[e,1])},changeTimeE:function(e){var t=this,a=Object(n.disableTimeRange6)(),r=a.next,l=a.nextYesterday,s=new Date(e).getTime();s<r&&(t.endTime=r),s>l&&(t.endTime=l),Object(n.getTimeFunction)(this,[e,2])},getDateTime:function(e){return Object(n.getDateTime)(e)}}},o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"dls greyFont"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark m-search-title black"},[e._v("搜索条件")])])],1),e._v(" "),a("el-row",{staticStyle:{height:"40px","line-height":"40px"}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-col",{attrs:{xs:4,sm:6,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark f-ta-r inputTitle"},[e._v("操作时间：")])]),e._v(" "),a("el-col",{attrs:{xs:20,sm:12,md:12,lg:16,xl:16}},[a("el-date-picker",{attrs:{size:"small",type:"datetime",clearable:!1,editable:!1,"picker-options":e.pickerOptionsS,placeholder:"选择开始时间"},on:{change:e.changeTimeS},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}}),e._v(" "),a("span",[e._v("——")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"datetime",clearable:!1,editable:!1,"picker-options":e.pickerOptionsE,placeholder:"选择结束时间"},on:{change:e.changeTimeE},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),e._v(" "),a("el-col",{attrs:{span:2}})],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:4,sm:6,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark f-ta-r inputTitle"},[e._v("操作人姓名：")])]),e._v(" "),a("el-col",{attrs:{xs:20,sm:12,md:12,lg:16,xl:16}},[a("el-input",{attrs:{size:"small",maxlength:6,placeholder:"请输入查询的联系人姓名"},model:{value:e.operatorName,callback:function(t){e.operatorName=t},expression:"operatorName"}})],1),e._v(" "),a("el-col",{attrs:{span:2}})],1)])],1),e._v(" "),a("el-row",{staticClass:"marginTop"},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:4,sm:6,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark f-ta-r inputTitle"},[e._v("操作类型：")])]),e._v(" "),a("el-col",{attrs:{xs:20,sm:12,md:12,lg:16,xl:16}},[a("el-radio",{attrs:{label:"0"},model:{value:e.syncType,callback:function(t){e.syncType=t},expression:"syncType"}},[e._v("全部")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.syncType,callback:function(t){e.syncType=t},expression:"syncType"}},[e._v("手动同步")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.syncType,callback:function(t){e.syncType=t},expression:"syncType"}},[e._v("自动同步")])],1),e._v(" "),a("el-col",{attrs:{span:2}})],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:4,sm:6,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark f-ta-r inputTitle"},[e._v("手机号码：")])]),e._v(" "),a("el-col",{attrs:{xs:20,sm:12,md:12,lg:16,xl:16}},[a("el-input",{attrs:{maxlength:11,size:"small",placeholder:"请输入查询的手机号码"},model:{value:e.operatorPhone,callback:function(t){e.operatorPhone=t},expression:"operatorPhone"}})],1),e._v(" "),a("el-col",{attrs:{span:2}})],1)])],1),e._v(" "),a("el-row",{staticClass:"marginTop"},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:4,sm:6,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark f-ta-r inputTitle"},[e._v("同步内容：")])]),e._v(" "),a("el-col",{attrs:{xs:20,sm:12,md:12,lg:16,xl:16}},[a("el-radio",{attrs:{label:"0"},model:{value:e.recordType,callback:function(t){e.recordType=t},expression:"recordType"}},[e._v("全部")]),e._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:e.recordType,callback:function(t){e.recordType=t},expression:"recordType"}},[e._v("框架")]),e._v(" "),a("el-radio",{attrs:{label:"4"},model:{value:e.recordType,callback:function(t){e.recordType=t},expression:"recordType"}},[e._v("号码")])],1),e._v(" "),a("el-col",{attrs:{span:2}})],1)]),e._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:4,sm:6,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark f-ta-r inputTitle"},[e._v("操作结果：")])]),e._v(" "),a("el-col",{attrs:{xs:20,sm:12,md:12,lg:16,xl:16}},[a("el-radio",{attrs:{label:"0"},model:{value:e.recordResult,callback:function(t){e.recordResult=t},expression:"recordResult"}},[e._v("全部")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.recordResult,callback:function(t){e.recordResult=t},expression:"recordResult"}},[e._v("成功")]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.recordResult,callback:function(t){e.recordResult=t},expression:"recordResult"}},[e._v("失败")])],1),e._v(" "),a("el-col",{attrs:{span:2}})],1)])],1),e._v(" "),a("el-row",{staticClass:"marginTop",staticStyle:{"text-align":"center"}},[a("button",{staticClass:"m-btn-orange",on:{click:function(t){e.search()}}},[e._v("搜索")])])],1),e._v(" "),e.form.searchList?a("div",[a("div",[a("div",{staticClass:"m-listTitleFoot"},[a("h3",[e._v("日志列表"),a("span",{staticClass:"f-fw greyFont"},[e._v("("+e._s(e.form.page||"0")+")")])])]),e._v(" "),a("div",{staticClass:"m-details"},[a("table",{staticClass:"m-searchTab",staticStyle:{width:"100%",height:"100%"}},[e._m(0),e._v(" "),e._l(e.form.searchList,function(t,r){return a("tr",{key:r},[a("td",[e._v(e._s(15*(e.pa-1)+(r+1)))]),e._v(" "),a("td",[e._v(e._s(t.recordId))]),e._v(" "),a("td",[0==t.recordType?a("span",[e._v("全部")]):e._e(),e._v(" "),3==t.recordType?a("span",[e._v("框架")]):e._e(),e._v(" "),4==t.recordType?a("span",[e._v("号码")]):e._e()]),e._v(" "),a("td",[t.recordTime?a("span",[e._v("\n                                  "+e._s(e.getDateTime(t.recordTime)[6])+"\n                              ")]):e._e(),e._v(" "),t.recordTime?e._e():a("span",[e._v("\n                                  --\n                              ")])]),e._v(" "),a("td",[0==t.syncType?a("span",[e._v("全部")]):e._e(),e._v(" "),1==t.syncType?a("span",[e._v("手动同步")]):e._e(),e._v(" "),2==t.syncType?a("span",[e._v("自动同步")]):e._e()]),e._v(" "),a("td",["1"==t.syncProtocol?a("span",[e._v("接口")]):e._e(),e._v(" "),"2"==t.syncProtocol?a("span",[e._v("文件")]):e._e()]),e._v(" "),a("td",[e._v(e._s(t.operatorId))]),e._v(" "),a("td",[e._v(e._s(t.operatorName||"--"))]),e._v(" "),a("td",[e._v(e._s(t.operatorPhone))]),e._v(" "),a("td",[1==t.syncState?a("span",[e._v("成功")]):e._e(),e._v(" "),2==t.syncState?a("span",[e._v("失败")]):e._e(),e._v(" "),t.syncState?e._e():a("span",[e._v("--")])]),e._v(" "),a("td",[a("a",{on:{click:function(a){e.details(t.introduct,t.recordType)}}},[e._v("详情")])])])}),e._v(" "),e.form.searchList.length<=0?a("tr",[a("td",{attrs:{colspan:"10"}},[e._v("\n                              暂无数据                                                        \n                          ")])]):e._e()],2)]),e._v(" "),e.form.searchList.length>0?a("div",{staticClass:"m-listTitleFoot"},[a("el-row",[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":15,total:e.form.page},on:{"current-change":e.search}})],1)])],1)],1):e._e()])]):e._e(),e._v(" "),e.off.logDet?a("log-details",{attrs:{layerType:e.openLayer,getSyncTime:e.getSyncTime,detailsData:e.form.detailsList,syncLogType:e.detRecordType}}):e._e()],1)},c=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"f-s-14"},[a("td",[e._v("序号")]),e._v(" "),a("td",[e._v("日志ID")]),e._v(" "),a("td",[e._v("日志类型")]),e._v(" "),a("td",[e._v("日志时间")]),e._v(" "),a("td",[e._v("同步类型")]),e._v(" "),a("td",[e._v("同步协议")]),e._v(" "),a("td",[e._v("操作人ID")]),e._v(" "),a("td",[e._v("操作人姓名")]),e._v(" "),a("td",[e._v("操作人手机号码")]),e._v(" "),a("td",[e._v("操作结果")]),e._v(" "),a("td")])}],d={render:o,staticRenderFns:c},p=d,v=a("Z0/y"),m=r,g=v(i,p,!1,m,null,null);t.default=g.exports},LO9R:function(e,t,a){var r=a("9jx4");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("FIqI")("112253da",r,!0,{})}});