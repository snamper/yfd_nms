webpackJsonp([6],{U6qn:function(t,e,s){var a=s("hGFX");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("FIqI")("31146d96",a,!0,{})},UIhT:function(t,e,s){var a=s("WNHS");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("FIqI")("e32863a0",a,!0,{})},VtWV:function(t,e,s){"use strict";function a(t){s("p4iO")}function n(t){s("UIhT")}function i(t){s("U6qn")}Object.defineProperty(e,"__esModule",{value:!0});var r=s("vHnB"),o=s.n(r),l=s("04Cm"),c=s("R2SV"),d={data:function(){return{count:"获取验证码",timer:null,show:!0,date:"",time:"",value:"",authCode:"",phone:"",userId:"",authCodeUrl:"",syncUrl:"",user:"",btnDisabled:!1,searchType:"",off:{set:!1,sync:!1,rsync:!1}}},created:function(){var t=this,e=Object(c.getStore)("YFD_NMS_INFO");t.user=e,t.searchType=t.$parent.searchType,1==t.$parent.off.setSync?(t.off.set=!0,t.off.sync=!1):1==t.$parent.off.sync&&(t.off.sync=!0,t.off.set=!1)},methods:{getAuthCode:function(t){var e=this;this.timer||(this.count=120,this.show=!1,this.timer=setInterval(function(){e.count>0&&e.count<=120?(e.btnDisabled=!0,e.count--):e.resetTimer()},1e3));var s=this,a={userId:s.user.userId,phone:s.user.phone||""};s.authCodeUrl="/ums/w/user/getAuthCode",Object(l.requestMethod)(a,s.authCodeUrl).then(function(t){t.hasOwnProperty("code")&&200==t.code?layer.open({content:t.msg,skin:"msg",time:2,msgSkin:"success"}):t.hasOwnProperty("code")&&200!=t.code?layer.open({content:t.msg,skin:"msg",time:2,msgSkin:"error"}):layer.open({content:t,skin:"msg",time:2,msgSkin:"error"})}).catch(function(t){return Object(c.errorDeal)(t)})},btnYes:function(t){var e=this,s=this,a={};if(a=s.$parent.addUsersData,a.authCode=s.authCode,""==s.authCode)return layer.open({content:"请输入验证码",skin:"msg",time:2,msgSkin:"error"}),!1;this.resetTimer(),s.authCode="",Object(l.requestMethod)(a,"/ums/w/user/addUsers").then(function(t){s.$parent.off.layer=!1,200==t.code?(layer.open({content:"操作成功",skin:"msg",time:2,msgSkin:"success"}),e.$parent.list=[],e.$parent.list.push({username:"",phone:"",checked:!1,checked2:!1,checked3:!1,departName:"好亚飞达总部"}),1==s.$parent.off.searchList&&e.$parent.search()):layer.open({content:t.msg,skin:"msg",time:2,msgSkin:"error"})}).catch(function(t){return Object(c.errorDeal)(t)})},close:function(){this.$parent.off.layer=!1},resetTimer:function(){this.btnDisabled=!1,this.show=!0,this.count="获取验证码",clearInterval(this.timer),this.timer=null}}},p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"greyFont",attrs:{id:"detailsView"}},[t.off.sync?s("div",[s("table",[t._m(0),t._v(" "),s("tbody",[s("tr",{attrs:{colspan:"2"}},[s("td",{staticClass:"fl"},[s("p",{staticClass:"pdl12"},[t._v("验证号码 : "),s("span",{model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}},[t._v(t._s(t.user.phone))])])])]),t._v(" "),s("tr",{attrs:{colspan:"2"}},[s("td",[s("el-input",{staticStyle:{width:"60%"},attrs:{size:"mini",maxlength:6,placeholder:"请输入短信验证码"},model:{value:t.authCode,callback:function(e){t.authCode=e},expression:"authCode"}}),s("el-button",{staticClass:"w84",attrs:{size:"mini",type:"primary",disabled:t.btnDisabled},on:{click:function(e){t.getAuthCode(t.userId)}},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}},[t._v(t._s(t.count))])],1)]),t._v(" "),s("tr",{staticClass:"tdBtn",attrs:{colspan:"2"}},[s("span",{on:{click:function(e){t.close()}}},[t._v("取消")]),t._v(" "),s("span",{on:{click:function(e){t.btnYes(2)}}},[t._v("确认")])])])]),t._v(" "),s("div",{staticClass:"lay-mask"})]):t._e()])},v=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{colspan:"2"}},[t._v("\r\n\t\t\t\t\t\t添加员工\r\n\t\t\t\t\t")])])])}],u={render:p,staticRenderFns:v},f=u,h=s("Z0/y"),m=a,g=h(d,f,!1,m,"data-v-e8c871ac",null),_=g.exports,b=s("a3Yh"),x=s.n(b),y={props:{forms:Object},data:function(){var t;return t={oldName:"",oldPhone:"",company:"",managerName:"",managerPhone:""},x()(t,"company",""),x()(t,"name",""),x()(t,"phone",""),x()(t,"radio","1"),x()(t,"checked",!0),x()(t,"checked2",!0),x()(t,"reason",""),x()(t,"item",""),x()(t,"user",""),x()(t,"ix",[{color:"red",age:18,sex:"girl"},{color:"red",age:18,sex:"girl"},{color:"red",age:18,sex:"girl"},{color:"red",age:18,sex:"girl"}]),x()(t,"off",{showSearch:"",addList:"",modify:!1,noModify:!0}),x()(t,"form",{name:"张三",phone:"15666666666"}),x()(t,"list",[{a:"",b:"",checked:!1,checked2:!0},{a:"",b:"",checked:!0,checked2:!1}]),t},components:{},created:function(){var t=this,e=Object(c.getStore)("YFD_NMS_INFO");t.user=e,t.company=t.$parent.company,t.managerName=t.$parent.managerName,t.managerPhone=t.$parent.managerPhone},methods:{goBack:function(){var t=this;this.$parent.off.staffDetails=!1,this.$parent.off.searchStaff=!0,this.$parent.search(t.$parent.pa)},checkBtn:function(){for(var t in this.forms.userRole)if("3"==this.forms.userRole)return layer.open({content:"不允许修改店长信息",skin:"msg",time:2,msgSkin:"error"}),!1;var e=this;e.off.noModify=!1,e.off.modify=!0,e.oldName=e.forms.username,e.oldPhone=e.forms.phone},checkNo:function(){var t=this;t.off.noModify=!0,t.off.modify=!1,t.forms.username=t.oldName,t.forms.phone=t.oldPhone},checkYes:function(t){var e=this,s=this,a={};s.off.noModify=!0,s.off.modify=!1,a.newUsername=s.forms.username,a.newPhone=s.forms.phone,a.searchUserId=t,Object(l.requestMethod)(a,"/ums/w/user/updateUserDetail").then(function(t){if(200==t.code){layer.open({content:"操作成功",skin:"msg",time:2,msgSkin:"success"});var a={},n=e,i=o.a.service(options);a=n.$parent.searchDetailsYfdData,Object(l.requestMethod)(a,"/ums/w/user/getUserDetail",function(){i.close()}).then(function(t){200==t.code&&(n.off.searchStaff=!1,n.off.staffDetails=!0,n.$parent.searchRes=t.data)}).catch(function(t){return Object(c.errorDeal)(t)})}else s.forms.username=s.oldName,s.forms.phone=s.oldPhone,layer.open({content:t.msg,skin:"msg",time:2,msgSkin:"error"})}).catch(function(t){return Object(c.errorDeal)(t)})},toMap:function(){var t=document.documentElement.clientWidth,e="",s=this,a=parseFloat(s.forms.latitude),n=parseFloat(s.forms.longitude);e=t<640?"http://map.baidu.com/mobile/?latlng="+a+","+n:"http://map.baidu.com/?latlng="+a+","+n,window.open(e)}}},k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"yfd"},[s("el-container",[s("el-header",{staticStyle:{"margin-right":"1%","margin-left":"1%","border-bottom":"1px solid #ccc","padding-top":"6px",height:"50px"}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("公司名称 : "),s("a",{staticClass:"c-blue",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.goBack()}}},[t._v("好亚飞达总部")])])]),t._v(" "),s("el-col",{attrs:{span:12}},[s("div",{staticClass:"grid-content bg-purple-light fr",staticStyle:{"padding-right":"40px"}},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.goBack()}}},[t._v("返回列表")])])])],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"listTitleFoot"},[s("el-row",[s("el-col",{attrs:{span:20}},[s("div",{staticClass:"grid-content bg-purple"},[s("h3",[t._v("员工列表")])])])],1)],1),t._v(" "),s("div",{staticClass:"detailsUlDiv"},[s("ul",[s("li",[s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("用户姓名:")])]),t._v(" "),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"grid-content bg-purple-light"},[t.off.noModify?s("p",[t._v(t._s(t.forms.username))]):t._e(),t._v(" "),t.off.modify?s("input",{directives:[{name:"model",rawName:"v-model",value:t.forms.username,expression:"forms.username"}],staticClass:"modifyInput",attrs:{type:"text"},domProps:{value:t.forms.username},on:{input:function(e){e.target.composing||t.$set(t.forms,"username",e.target.value)}}}):t._e()])])],1)],1),t._v(" "),s("li",[s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("手机号码:")])]),t._v(" "),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"grid-content bg-purple-light"},[t.off.noModify?s("p",[t._v(t._s(t.forms.phone))]):t._e(),t._v(" "),t.off.modify?s("input",{directives:[{name:"model",rawName:"v-model",value:t.forms.phone,expression:"forms.phone"}],staticClass:"modifyInput",attrs:{maxlength:11,type:"text"},domProps:{value:t.forms.phone},on:{input:function(e){e.target.composing||t.$set(t.forms,"phone",e.target.value)}}}):t._e()])])],1)],1),t._v(" "),s("li",[s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("创建时间:")])]),t._v(" "),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"grid-content bg-purple-light"},[t.forms.createTime?s("span",[t._v("\n                                    "+t._s(new Date(t.forms.createTime).toLocaleString())+"\n                                ")]):t._e(),t._v(" "),t.forms.createTime?t._e():s("span",[t._v("\n                                    --\n                                ")])])])],1)],1),t._v(" "),s("li",[s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("修改时间:")])]),t._v(" "),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"grid-content bg-purple-light"},[t.forms.modifyTime?s("span",[t._v("\n                                    "+t._s(new Date(t.forms.modifyTime).toLocaleString())+"\n                                ")]):t._e(),t._v(" "),t.forms.modifyTime?t._e():s("span",[t._v("\n                                    --\n                                ")])])])],1)],1),t._v(" "),s("li",[s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("操作人:")])]),t._v(" "),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.forms.operatorName))])])],1)],1),t._v(" "),s("li",[s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("职务:")])]),t._v(" "),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"grid-content bg-purple-light"},t._l(t.forms.userRole,function(e,a){return s("span",{key:a},[1==e?s("span",[t._v("管理员")]):t._e(),t._v(" "),2==e?s("span",[t._v("销售")]):t._e(),t._v(" "),3==e?s("span",[t._v("店长")]):t._e(),t._v(" "),4==e?s("span",[t._v("采购员")]):t._e(),t._v(" "),5==e?s("span",[t._v("业务员")]):t._e()])}))])],1)],1),t._v(" "),s("li",[s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("当前状态:")])]),t._v(" "),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"grid-content bg-purple-light"},[1==t.forms.userState?s("span",{staticClass:"fcgreen"},[t._v("正常")]):t._e(),t._v(" "),2==t.forms.userState?s("span",{staticClass:"greyFont"},[t._v("黑名单")]):t._e(),t._v(" "),3==t.forms.userState?s("span",[t._v("注销")]):t._e()])])],1)],1),t._v(" "),s("li",[s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("最后登录时间:")])]),t._v(" "),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"grid-content bg-purple-light"},[t.forms.lastLoginTime?s("span",[t._v("\n                                    "+t._s(new Date(t.forms.lastLoginTime).toLocaleString())+"\n                                ")]):t._e(),t._v(" "),t.forms.lastLoginTime?t._e():s("span",[t._v("\n                                    --\n                                ")])])])],1)],1),t._v(" "),s("li",[s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("登录方式:")])]),t._v(" "),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"grid-content bg-purple-light"},[1==t.forms.sessionPlatform?s("span",[t._v("Web在线")]):t._e(),t._v(" "),2==t.forms.sessionPlatform?s("span",[t._v("App在线")]):t._e(),t._v(" "),t.forms.sessionPlatform?t._e():s("span",[t._v("--")])])])],1)],1),t._v(" "),s("li",[s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("在线平台:")])]),t._v(" "),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"grid-content bg-purple-light"},[1==t.forms.sessionType?s("span",[t._v("业务平台")]):t._e(),t._v(" "),2==t.forms.sessionType?s("span",[t._v("管理平台")]):t._e(),t._v(" "),t.forms.sessionPlatform?t._e():s("span",[t._v("--")])])])],1)],1),t._v(" "),s("li",[s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("IP:")])]),t._v(" "),s("el-col",{attrs:{span:20}},[t.forms.host?s("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.forms.host))]):t._e()]),t._v(" "),s("el-col",{attrs:{span:20}},[t.forms.host?t._e():s("div",{staticClass:"grid-content bg-purple-light"},[t._v("--")])])],1)],1),t._v(" "),s("li",[s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("登录地址:")])]),t._v(" "),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"grid-content bg-purple-light"},[t.forms.latitude?s("span",[t._v(" \n                                "+t._s(t.forms.latitude)+","+t._s(t.forms.longitude)+"\n                                "),s("a",{attrs:{href:"javascript:void(0)"},on:{click:t.toMap}},[t._v("【查看地图】")])]):t._e(),t._v(" "),t.forms.latitude?t._e():s("span",[t._v(" \n                               --\n                            ")])])])],1)],1),t._v(" "),s("li",[s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("操作机型:")])]),t._v(" "),s("el-col",{attrs:{span:20}},[t.forms.phoneType?s("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.forms.phoneType))]):t._e(),t._v(" "),t.forms.phoneType?t._e():s("div",{staticClass:"grid-content bg-purple-light"},[t._v("--")])])],1)],1)]),t._v(" "),s("div",{staticClass:"mt8"},[t.off.noModify?s("el-row",[s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[s("div",{staticClass:"grid-content bg-purple"},[2!=t.user.userRole&&3!=t.user.userRole?s("el-button",{attrs:{type:"success"},on:{click:t.checkBtn}},[t._v("修改")]):t._e()],1)])],1):t._e(),t._v(" "),t.off.modify?s("el-row",[s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[s("div",{staticClass:"grid-content bg-purple"},[s("el-button",{attrs:{type:"danger"},on:{click:t.checkNo}},[t._v("取消")]),s("el-button",{attrs:{type:"success"},on:{click:function(e){t.checkYes(t.forms.userId)}}},[t._v("确定")])],1)])],1):t._e()],1)])])},w=[],C={render:k,staticRenderFns:w},S=C,D=s("Z0/y"),T=n,L=D(y,S,!1,T,"data-v-660aad86",null),$=L.exports,U={data:function(){return{user:"",currentPage:0,detailsList:"",name:"",phone:"",radio:"1,2",pa:"",searchDetailsYfdData:"",searchRes:"",addAble:0,list:[{username:"",phone:"",checked2:!1,checked3:!1,departName:"好亚飞达总部"}],off:{showSearch:"",searchList:!1,staffDetails:!1,searchStaff:!0,addList:!1,layer:!1},form:{page:1}}},components:{yfdStaff:$,"common-layer":_},created:function(){var t=this,e=Object(c.getStore)("YFD_NMS_INFO");t.user=e},methods:{AddList:function(){this.list.push({username:"",phone:"",checked2:!1,checked3:!1,departName:"好亚飞达总部"})},AddStaffDiv:function(){this.off.addList=!this.off.addList},AddStaff:function(){for(var t={newUsers:[],authCode:""},e=0;e<this.list.length;e++)this.list[e].userRole="",(""!=this.list[e].username&&""!=this.list[e].phone&&1==this.list[e].checked||1==this.list[e].checked2||1==this.list[e].checked3)&&(1==this.list[e].checked2&&(this.list[e].userRole="1"),1==this.list[e].checked3&&(1==this.list[e].checked2?this.list[e].userRole+=",2":0==this.list[e].checked2&&(this.list[e].userRole="2")),t.newUsers.push(this.list[e]));for(var s=0;s<t.newUsers.length;s++)delete t.newUsers[s].checked2,delete t.newUsers[s].checked3,this.addAble="1";if("0"==this.addAble)return layer.open({content:"请输入添加的员工信息",skin:"msg",time:2,msgSkin:"error"}),!1;this.off.layer=!0,this.off.sync=!0,this.off.userAdd=!0,this.addUsersData=t},search:function(t){var e={},s=this;s.pa=t||1,s.currentPage=t||1,""!=s.phone&&Object(c.checkMobile)(s.phone,function(){return!1}),e={searchDepartId:"1803160000",username:s.name,phone:s.phone,userState:s.radio,pageSize:15,pageNum:t||1};var a=o.a.service(options);Object(l.requestMethod)(e,"/ums/w/user/getDepartDetail",function(){a.close()}).then(function(t){200==t.code?(s.off.searchList=!0,s.form.page=t.data.total,s.detailsList=t.data.users):layer.open({content:t.msg,skin:"msg",time:2,msgSkin:"error"})}).catch(function(t){return Object(c.errorDeal)(t)})},getStaffDetails:function(t){var e={},s=this,a=o.a.service(options);e={searchUserId:t.userId,sessionType:"2"},s.searchDetailsYfdData=e,Object(l.requestMethod)(e,"/ums/w/user/getUserDetail",function(){a.close()}).then(function(t){200==t.code?(s.off.searchStaff=!1,s.off.staffDetails=!0,s.searchRes=t.data):Object(c.errorDeal)(t)}).catch(function(t){return Object(c.errorDeal)(t)})}}},I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.off.searchStaff?a("div",[a("div",{staticClass:"ygcx greyFont"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark searchTitleStyle black"},[t._v("搜索条件")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:5,sm:6,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("联系人：")])]),t._v(" "),a("el-col",{attrs:{xs:16,sm:14,md:14,lg:16,xl:16}},[a("el-input",{attrs:{maxlength:10,size:"small",placeholder:"请输入查询的联系人姓名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),a("el-col",{attrs:{xs:4,sm:4,md:4,lg:4,xl:4}})],1)]),t._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:5,sm:6,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("手机号码：")])]),t._v(" "),a("el-col",{attrs:{xs:16,sm:14,md:14,lg:16,xl:16}},[a("el-input",{attrs:{type:"tel",maxlength:11,size:"small",placeholder:"请输入查询的手机号码"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),t._v(" "),a("el-col",{attrs:{xs:4,sm:4,md:4,lg:4,xl:4}})],1)])],1),t._v(" "),a("el-row",{staticClass:"marginTop"},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:5,sm:3,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("当前状态：")])]),t._v(" "),a("el-col",{attrs:{xs:16,sm:16,md:14,lg:16,xl:16}},[a("el-radio",{attrs:{label:"1,2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("全部")]),t._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("正常")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("黑名单")])],1),t._v(" "),a("el-col",{attrs:{xs:1,sm:1,md:4,lg:4,xl:4}})],1)])],1),t._v(" "),a("el-row",{staticClass:"marginTop",staticStyle:{"text-align":"center"}},[a("button",{staticClass:"searchBtn",on:{click:function(e){t.search()}}},[t._v("搜索")])])],1),t._v(" "),a("el-row",[a("el-col",{staticStyle:{float:"right"},attrs:{xs:4,sm:4,md:4,lg:2,xl:2}},[a("div",{staticClass:"grid-content bg-purple-light"},[2!=t.user.userRole&&3!=t.user.userRole?a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){t.AddStaffDiv()}}},[t.off.addList?t._e():a("span",[t._v("添加员工")]),t.off.addList?a("span",[t._v("隐藏")]):t._e()]):t._e()],1)])],1),t._v(" "),t.off.addList?a("div",{staticClass:"listTitleFoot addList"},[a("el-row",[a("el-col",{attrs:{xs:18,sm:18,md:18,lg:22,xl:22}},t._l(t.list,function(e,s){return a("div",{key:s,staticClass:"mt8"},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:8,xl:8}},[a("span",[t._v("用户姓名 : ")]),a("el-input",{staticStyle:{width:"80%"},attrs:{size:"small",maxlength:10,placeholder:"请输入内容"},model:{value:t.list[s].username,callback:function(e){t.$set(t.list[s],"username",e)},expression:"list[i].username"}})],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:8,xl:8}},[a("span",[t._v("手机号码 : ")]),a("el-input",{staticStyle:{width:"80%"},attrs:{size:"small",maxlength:11,placeholder:"请输入内容"},model:{value:t.list[s].phone,callback:function(e){t.$set(t.list[s],"phone",e)},expression:"list[i].phone"}})],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("span",[t._v("职       务 :  ")]),a("el-checkbox",{attrs:{xs:24},model:{value:t.list[s].checked2,callback:function(e){t.$set(t.list[s],"checked2",e)},expression:"list[i].checked2"}},[t._v("管理员")]),a("el-checkbox",{model:{value:t.list[s].checked3,callback:function(e){t.$set(t.list[s],"checked3",e)},expression:"list[i].checked3"}},[t._v("销售")])],1)],1)})),t._v(" "),a("el-col",{attrs:{xs:6,sm:4,md:4,lg:2,xl:2}},[a("div",{staticStyle:{float:"right"}},[a("button",{staticClass:"buttonAddStaff",staticStyle:{display:"block"},on:{click:function(e){t.AddList()}}},[t._v("增加一行")]),t._v(" "),a("button",{staticClass:"buttonAddStaff",on:{click:function(e){t.AddStaff()}}},[t._v("确定添加")])])])],1)],1):t._e(),t._v(" "),t.detailsList?a("div",[a("div",[a("div",{staticClass:"listTitleFoot"},[a("el-row",[a("el-col",{staticStyle:{height:"35px"},attrs:{span:20}},[a("div",{staticClass:"grid-content bg-purple"},[a("h3",[t._v("员工列表"),a("span",{staticClass:"fontWeight greyFont"},[t._v(" ("+t._s(t.form.page||"0")+")")])])])])],1)],1),t._v(" "),a("div",{staticClass:"detailsListDiv"},[a("table",{staticClass:"searchTab",staticStyle:{width:"100%",height:"100%"}},[t._m(0),t._v(" "),t._l(t.detailsList,function(e,n){return a("tr",{key:n,class:{greyFont:3==e.departState}},[a("td",[t._v("\n                          "+t._s(15*(t.pa-1)+(n+1))+"\n                      ")]),t._v(" "),a("td",[t._l(e.userRole,function(e,n){return a("span",{key:n},[3==e?a("img",{staticClass:"adminIcon",attrs:{src:s("iXw6")}}):t._e()])}),t._v("\n                          "+t._s(e.username)+"\n                      ")],2),t._v(" "),a("td",[a("a",{staticClass:"textDec",on:{click:function(s){t.getStaffDetails(e)}}},[t._v(t._s(e.phone))])]),t._v(" "),a("td",[e.createTime?a("span",[t._v("\n                              "+t._s(new Date(e.createTime).toLocaleString())+"\n                          ")]):t._e(),t._v(" "),e.createTime?t._e():a("span",[t._v("\n                              --\n                          ")])]),t._v(" "),a("td",t._l(e.userRole,function(e,s){return a("span",{key:s},[1==e?a("span",[t._v("管理员")]):t._e(),t._v(" "),2==e?a("span",[t._v("销售")]):t._e(),t._v(" "),3==e?a("span",[t._v("店长")]):t._e(),t._v(" "),4==e?a("span",[t._v("采购员")]):t._e(),t._v(" "),5==e?a("span",[t._v("业务员")]):t._e()])})),t._v(" "),a("td",[1==e.userState?a("span",[t._v("正常")]):t._e(),t._v(" "),2==e.userState?a("span",[t._v("黑名单")]):t._e(),t._v(" "),3==e.userState?a("span",[t._v("注销")]):t._e()]),t._v(" "),a("td",[e.lastLoginTime?a("span",[t._v("\n                              "+t._s(new Date(e.lastLoginTime).toLocaleString())+"\n                          ")]):t._e(),t._v(" "),e.lastLoginTime?t._e():a("span",[t._v("\n                              --\n                          ")])])])}),t._v(" "),0==t.detailsList.length?a("tr",[a("td",{staticClass:"tac",attrs:{colspan:"8"}},[t._v("\n                          暂无数据                            \n                      ")])]):t._e()],2)]),t._v(" "),t.detailsList.length>0?a("div",{staticClass:"listTitleFoot"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":15,"current-page":t.currentPage,total:t.form.page},on:{"current-change":t.search,"update:currentPage":function(e){t.currentPage=e}}})],1)])],1)],1):t._e()])]):t._e()],1):t._e(),t._v(" "),t.off.staffDetails?a("yfdStaff",{attrs:{forms:t.searchRes}}):t._e(),t._v(" "),t.off.layer?a("common-layer"):t._e()],1)},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[t._v("序号")]),t._v(" "),s("td",[t._v("用户姓名")]),t._v(" "),s("td",[t._v("手机号码")]),t._v(" "),s("td",[t._v("创建时间")]),t._v(" "),s("td",[t._v("职务")]),t._v(" "),s("td",[t._v("当前状态")]),t._v(" "),s("td",[t._v("最后登录时间")])])}],O={render:I,staticRenderFns:F},N=O,R=s("Z0/y"),P=i,j=R(U,N,!1,P,"data-v-317d6651",null);e.default=j.exports},WNHS:function(t,e,s){e=t.exports=s("UTlt")(!1),e.push([t.i,"\ndiv.yfd[data-v-660aad86]{width: 100% ;height: 100%\n}\n.listTitleFoot[data-v-660aad86]{width: 96%;margin: 10px 38px;\n}\n.listTitleFoot label[data-v-660aad86]{display:block;width: 50%;\n}\nlabel.el-checkbox[data-v-660aad86]{display: inline\n}\n.detailsUlDiv[data-v-660aad86]{width: 90%;height: 90%;margin-left:40px;\n}\n.detailsUlDiv ul[data-v-660aad86]{border-left: 1px solid #ccc;border-right: 1px solid #ccc;border-top: 1px solid #ccc\n}\n.detailsUlDiv ul li[data-v-660aad86] {padding: 6px 18px;border-bottom: 1px solid #ccc\n}\n.detailsUlDiv ul li[data-v-660aad86]:nth-child(even){background: #ccc;\n}\ndiv.el-row[data-v-660aad86]{line-height:30px\n}\ninput.modifyInput[data-v-660aad86]{height: 28px;border-radius: 6px;outline: none;border: 1px solid #ccc;padding-left: 10px;\n}\n",""])},WvIL:function(t,e,s){e=t.exports=s("UTlt")(!1),e.push([t.i,"\n#detailsView[data-v-e8c871ac]{position: absolute;top: 0;left: 0;width: 100%;height: 100%;display: table; z-index: 997;text-align: center;\n}\n#detailsView>div[data-v-e8c871ac]{display: table-cell;vertical-align: middle;\n}\n#detailsView table[data-v-e8c871ac]{margin:auto;border-radius: 4px;background-color: #fff;border-collapse: collapse;table-layout: fixed;word-wrap:break-word;word-break: break-word;white-space: normal;\n}\n#detailsView table td[data-v-e8c871ac]{padding:0px 10px;\n}\n#detailsView table th[data-v-e8c871ac]{padding: 18px 0;border-radius: 4px 4px 0 0;color: #545454;font-size: 16px;\n}\n#detailsView table td>.fl[data-v-e8c871ac]{width:1rem;text-align: right;\n}\n#detailsView table td>.fright[data-v-e8c871ac]{margin-left: 1.05rem;text-align: left;\n}\n.lay-mask[data-v-e8c871ac]{position:absolute;background-color: rgba(0,0,0,0.3);z-index: -1;width: 100%;height: 100%;top: 0;left: 0;\n}\n.tdBtn span[data-v-e8c871ac]{ display: inline-block;width: 50%;height: 40px;padding-top: 11px;margin-top: 20px;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: pointer\n}\n.tdBtn span[data-v-e8c871ac]:nth-child(1){border-top: 1px solid #ccc;border-right: 1px solid #ccc;color: red\n}\n.tdBtn span[data-v-e8c871ac]:nth-child(2){border-top: 1px solid #ccc;color: green\n}\ntbody tr[data-v-e8c871ac]{height: 36px;\n}\n.tdBtn2[data-v-e8c871ac] {cursor: pointer\n}\n.tdBtn2 span[data-v-e8c871ac]{display: inline-block;width: 100%; -webkit-box-sizing: border-box; box-sizing: border-box;border-top:1px solid #ccc;padding-top: 10px;\n}\n.w84[data-v-e8c871ac]{width:84px\n}\n.pdl12[data-v-e8c871ac]{padding-left:12px\n}\r\n",""])},hGFX:function(t,e,s){e=t.exports=s("UTlt")(!1),e.push([t.i,"\n.listTitleFoot[data-v-317d6651]{width: 96%;margin: 10px 18px;\n}\n.addList[data-v-317d6651]{border: 1px solid #ccc;min-height: 100px;padding: 10px;background: white\n}\n.addList span[data-v-317d6651]{display:inline-block;width:60px;\n}\ntable tr td[data-v-317d6651]{text-align: left;padding-left: 20px;\n} \n",""])},p4iO:function(t,e,s){var a=s("WvIL");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("FIqI")("63226fe0",a,!0,{})}});