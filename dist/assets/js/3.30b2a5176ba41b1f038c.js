webpackJsonp([3],{"2Xdg":function(t,e,a){var s=a("oT+8");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("FIqI")("622099fb",s,!0,{})},"31m0":function(t,e,a){var s=a("EoxW");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("FIqI")("26cf5232",s,!0,{})},"3jyS":function(t,e,a){var s=a("CWgF");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("FIqI")("314804b9",s,!0,{})},CWgF:function(t,e,a){e=t.exports=a("UTlt")(!1),e.push([t.i,"\n#detailsView[data-v-7e88f344]{position: absolute;top: 0;left: 0;width: 100%;height: 100%;display: table; z-index: 997;text-align: center;\n}\n#detailsView>div[data-v-7e88f344]{display: table-cell;vertical-align: middle;\n}\n#detailsView table[data-v-7e88f344]{margin:auto;border-radius: 4px;background-color: #fff;border-collapse: collapse;table-layout: fixed;word-wrap:break-word;word-break: break-word;white-space: normal;\n}\n#detailsView table td[data-v-7e88f344]{padding:5px 30px;\n}\n#detailsView table th[data-v-7e88f344]{padding: 18px 0;border-radius: 4px 4px 0 0;color: #545454;font-size: 16px;\n}\n#detailsView table td>.fl[data-v-7e88f344]{width:1rem;text-align: right;\n}\n#detailsView table td>.fright[data-v-7e88f344]{margin-left: 1.05rem;text-align: left;\n}\n.lay-mask[data-v-7e88f344]{position:absolute;background-color: rgba(0,0,0,0.3);z-index: -1;width: 100%;height: 100%;top: 0;left: 0;\n}\n.tdBtn span[data-v-7e88f344]{ display: inline-block;width: 50%;height: 50px;padding: 20px;margin-top: 20px;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: pointer\n}\n.tdBtn span[data-v-7e88f344]:nth-child(1){border-top: 1px solid #ccc;border-right: 1px solid #ccc;color: red\n}\n.tdBtn span[data-v-7e88f344]:nth-child(2){border-top: 1px solid #ccc;color: green\n}\ntbody tr[data-v-7e88f344]{height: 36px;\n}\n.tdBtn2[data-v-7e88f344] {cursor: pointer\n}\n.tdBtn2 span[data-v-7e88f344]{display: inline-block;width: 100%; -webkit-box-sizing: border-box; box-sizing: border-box;border-top:1px solid #ccc;padding-top: 10px;\n}\r\n",""])},Cxh2:function(t,e,a){var s=a("uCT+");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("FIqI")("3ff11516",s,!0,{})},EoxW:function(t,e,a){e=t.exports=a("UTlt")(!1),e.push([t.i,"\n.listTitleFoot[data-v-74d98114]{width: 96%;margin: 10px 18px;\n}\n.listTitleFoot label[data-v-74d98114]{display:block;width: 50%;\n}\nlabel.el-checkbox[data-v-74d98114]{display: inline\n}\n.addList[data-v-74d98114]{border: 1px solid #ccc;min-height: 100px;padding: 10px;background: white\n}    \n",""])},IGnf:function(t,e,a){var s=a("Rddz");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("FIqI")("3b7525a2",s,!0,{})},"KK+K":function(t,e,a){"use strict";function s(t){a("IGnf")}function n(t){a("31m0")}var l=a("vHnB"),i=a.n(l),r=a("04Cm"),o=a("R2SV"),c=a("my9E"),d=a("Ohp3"),p={text:"正在加载"},u={data:function(){return{count:"点击获取验证码",timer:null,show:!0,date:"",time:"",value:"",authCode:"",phone:"",userId:"",authCodeUrl:"",syncUrl:"",user:"",btnDisabled:!1,searchType:"",off:{set:!1,sync:!1,rsync:!1}}},created:function(){var t=this,e=Object(o.getStore)("YFD_NMS_INFO");t.user=e,t.searchType=t.$parent.searchType,1==t.$parent.off.setSync?(t.off.set=!0,t.off.sync=!1):1==t.$parent.off.sync&&(t.off.sync=!0,t.off.set=!1)},methods:{getAuthCode:function(t){var e=this;this.timer||(this.count=120,this.show=!1,this.timer=setInterval(function(){e.count>0&&e.count<=120?(e.btnDisabled=!0,e.count--):(e.btnDisabled=!1,e.show=!0,e.count="点击获取验证码",clearInterval(e.timer),e.timer=null)},1e3));var a=this,s={userId:a.user.userId,phone:a.user.phone||""};a.authCodeUrl="/yfd-ums/w/user/getAuthCode",Object(r.requestMethod)(s,a.authCodeUrl).then(function(t){t.hasOwnProperty("code")&&200==t.code?layer.open({content:t.msg,skin:"msg",time:2,msgSkin:"success"}):t.hasOwnProperty("code")&&200!=t.code?layer.open({content:t.msg,skin:"msg",time:2,msgSkin:"error"}):layer.open({content:t,skin:"msg",time:2,msgSkin:"error"})}).catch(function(t){return Object(o.errorDeal)(t)})},btnYes:function(t){var e=this,a=this,s="",n=i.a.service(p);if(s=a.$parent.addUsersData,""==a.authCode)return layer.open({content:"请输入验证码",skin:"msg",time:2,msgSkin:"error"}),!1;s.authCode=a.authCode,Object(r.requestMethod)(s,"/yfd-ums/w/user/addUsers").then(function(s){if(a.$parent.off.layer=!1,200==s.code){if(layer.open({content:"操作成功",skin:"msg",time:2,msgSkin:"success"}),e.$parent.list=[],e.$parent.list.push({username:"",phone:"",checked:!1,checked2:!1}),1!=e.searchType)e.search();else if(1==e.searchType){var n=e,l={},c=i.a.service(p);n.searchDetailsType=1,n.searchDepartId=n.$parent.searchDepartId,l={searchDepartId:n.$parent.searchDepartId,userState:n.$parent.radio,username:n.$parent.name,phone:n.$parent.phone,pageNum:1,pageSize:"10"},n.companyName=t.departName,n.managerName=t.managerName,n.managerPhone=t.phone,Object(r.requestMethod)(l,"/yfd-ums/w/user/getDepartDetail").then(function(t){c.close(),200==t.code?(t.data.users.length,n.$parent.off.notDlsDetails=!1,n.$parent.off.dlsDetails=!0,n.$parent.$parent.detailsList=t.data.users):Object(o.errorDeal)(t)}).catch(function(t){return Object(o.errorDeal)(t)})}}else e.$parent.list=[],e.$parent.list.push({username:"",phone:"",checked:!1,checked2:!1}),layer.open({content:s.msg,skin:"msg",time:2,msgSkin:"error"})}).then(function(){n.close()}).catch(function(t){return Object(o.errorDeal)(t)})},close:function(){this.$parent.off.layer=!1}}},v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"greyFont",attrs:{id:"detailsView"}},[t.off.set?a("div",[a("table",[t._m(0),t._v(" "),a("tbody",[a("tr",[a("td",[a("span",{staticClass:"demonstration"},[t._v("同步开始日期  :  ")]),t._v(" "),a("el-date-picker",{attrs:{size:"small",type:"date",placeholder:"选择日期"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)]),t._v(" "),a("tr",[a("td",[a("span",{staticClass:"demonstration"},[t._v("同步开始时间  :  ")]),t._v(" "),a("el-time-select",{attrs:{size:"small","picker-options":{start:"08:30",step:"00:15",end:"18:30"},placeholder:"选择时间"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)]),t._v(" "),a("tr",[a("td",[a("span",{staticClass:"demonstration"},[t._v("同步间隔时间  :  ")]),t._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),a("tr",{staticClass:"tdBtn",attrs:{colspan:"2"}},[a("span",{on:{click:function(e){t.close()}}},[t._v("取消")]),t._v(" "),a("span",{on:{click:function(e){t.btnYes(1)}}},[t._v("确认")])])])]),t._v(" "),a("div",{staticClass:"lay-mask"})]):t._e(),t._v(" "),t.off.sync?a("div",[a("table",[t._m(1),t._v(" "),a("tbody",[a("tr",{attrs:{colspan:"2"}},[a("td",{staticClass:"fl"},[a("p",[t._v("验证号码:"),a("span",{model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}},[t._v(t._s(t.user.phone))])])])]),t._v(" "),a("tr",{attrs:{colspan:"2"}},[a("el-input",{staticStyle:{width:"60%"},attrs:{size:"mini",maxlength:6,placeholder:"请输入短信验证码"},model:{value:t.authCode,callback:function(e){t.authCode=e},expression:"authCode"}}),a("el-button",{staticStyle:{width:"112px"},attrs:{size:"mini",type:"primary",disabled:t.btnDisabled},on:{click:function(e){t.getAuthCode(t.userId)}},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}},[t._v(t._s(t.count))])],1),t._v(" "),a("tr",{staticClass:"tdBtn",attrs:{colspan:"2"}},[a("span",{on:{click:function(e){t.close()}}},[t._v("取消")]),t._v(" "),a("span",{on:{click:function(e){t.btnYes(2)}}},[t._v("确认")])])])]),t._v(" "),a("div",{staticClass:"lay-mask"})]):t._e(),t._v(" "),t.off.rsync?a("div",[a("table",[a("tbody",[t._m(2),t._v(" "),a("tr",{attrs:{colspan:"2"}},[t._v("\r\n\t\t\t\t\t码号手动同步已受理，请耐心等待结果\r\n\t\t\t\t")]),t._v(" "),a("tr",{staticClass:"tdBtn2",attrs:{colspan:"2"}},[a("span",{on:{click:function(e){t.close()}}},[t._v("确认")])])])]),t._v(" "),a("div",{staticClass:"lay-mask"})]):t._e()])},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{colspan:"2"}},[t._v("\r\n\t\t\t\t\t\t同步设置\r\n\t\t\t\t\t")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{colspan:"2"}},[t._v("\r\n\t\t\t\t\t\t添加员工\r\n\t\t\t\t\t")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{attrs:{colspan:"2"}},[s("img",{attrs:{src:a("yHl6"),alt:""}})])}],f={render:v,staticRenderFns:h},m=f,g=a("Z0/y"),_=s,b=g(u,m,!1,_,"data-v-6eff86a8",null),x=b.exports,k={text:"正在加载"},y={name:"dlsDetails",props:{lists:Array},data:function(){return{currentPage:0,a:"",forms:"",searchRes:"",companyName:"",managerName:"",managerPhone:"",name:"",phone:"",radio:"1,2",checked:!0,checked2:!0,reason:"",authCode:"",doUrl:"",addAble:"0",addUsersData:"",searchType:0,searchDepartId:"",doAble:"0",searchStaffInfo:"",form:{page:0},list:[{username:"",phone:"",checked:!1,checked2:!1}],off:{addList:!1,noStaffd:!0,staffD:!1,modify:!1,layer:!1,sync:!1,userAdd:!1}}},components:{"common-search":c.a,dlsStaff:d.default,"common-layer":x},created:function(){var t=this,e=Object(o.getStore)("YFD_NMS_INFO");t.user=e,t.searchType=t.$parent.searchDetailsType,t.searchDepartId=t.$parent.searchDepartId,t.pa=1,t.form.page=t.lists.length/10,t.company=t.$parent.companyName,t.managerPhone=t.$parent.managerPhone,t.managerName=t.$parent.managerName},methods:{goBack:function(){var t=this;t.$parent.off.dlsDetails=!1,t.$parent.off.notDlsDetails=!0,this.$parent.search(t.$parent.pa)},AddList:function(){this.list.push({username:"",phone:"",checked:!1,checked2:!1})},AddStaffDiv:function(){this.off.addList=!this.off.addList},AddStaff:function(){for(var t=this,e={newUsers:[]},a=0;a<this.list.length;a++)(""!=this.list[a].username&&""!=this.list[a].phone&&1==this.list[a].checked||1==this.list[a].checked2)&&(1==this.list[a].checked&&0==this.list[a].checked2?this.list[a].userRole="4":0==this.list[a].checked&&1==this.list[a].checked2?this.list[a].userRole="5":1==this.list[a].checked&&1==this.list[a].checked2&&(this.list[a].userRole="4,5"),this.list[a].departName=t.company,delete this.list[a].checked,delete this.list[a].checked2,e.newUsers.push(this.list[a]),this.addAble="1");if("0"==this.addAble)return layer.open({content:"请输入添加的员工信息",skin:"msg",time:2,msgSkin:"error"}),!1;this.off.layer=!0,this.off.sync=!0,this.off.userAdd=!0,this.addUsersData=e},doFunction:function(t){var e=this,a={operateUserIds:[]},s="";e.off.modify=!1;for(var n in e.lists)1==e.lists[n].ischecked&&(a.operateUserIds.push(e.lists[n].username),s+=e.lists[n].username+",",e.off.modify=!0);if(0==e.off.modify)return layer.open({content:"请选择要操作的用户",skin:"msg",time:2,msgSkin:"error"}),!1;"offLine"==t?(e.doUrl="/yfd-ums/w/user/kickoutUsers",e.a=s+"强制离线"):"addBlack"==t?(e.doUrl="/yfd-ums/w/user/blacklistUsers",e.a=s+"加入黑名单"):"cancelBlack"==t?(e.doUrl="/yfd-ums/w/user/unblacklistUsers",e.a=s+"解除黑名单"):"delete"==t&&(e.doUrl="/yfd-ums/w/user/delUsers",e.a=s+"删除")},doFilter:function(t){if("all"==t)for(var e=0;e<this.lists.length;e++)this.$set(this.lists[e],"ischecked",!0);else if("on"==t)for(var a=0;a<this.lists.length;a++)this.$set(this.lists[a],"ischecked",!1)},getAuthCode:function(){var t=i.a.service(k),e={};e={phone:this.user.phone},Object(r.requestMethod)(e,"/yfd-ums/w/user/getAuthCode").then(function(t){200==t.code?layer.open({content:"验证码发送成功",skin:"msg",time:2,msgSkin:"success"}):layer.open({content:t.msg,skin:"msg",time:2,msgSkin:"error"})}).then(function(){t.close()}).catch(function(t){return Object(o.errorDeal)(t)})},search:function(t){var e=this,a={},s=i.a.service(k);a={searchDepartId:e.$parent.searchDepartId,userState:e.radio,username:e.name,phone:e.phone,pageNum:t||1,pageSize:"10"},Object(r.requestMethod)(a,"/yfd-ums/w/user/getDepartDetail").then(function(t){s.close(),200==t.code?t.data.users.length>0?(e.$parent.off.notDlsDetails=!1,e.$parent.off.dlsDetails=!0,e.$parent.detailsList=t.data.users,e.$parent.headUserName=t.data.users[0].username,e.$parent.headPhone=t.data.users[0].phone):(e.$parent.off.notDlsDetails=!1,e.$parent.off.dlsDetails=!0,e.$parent.detailsList=[],e.$parent.detailsList.username="",e.$parent.detailsList.phone=""):Object(o.errorDeal)(t)}).catch(function(t){return Object(o.errorDeal)(t)})},getStaffDetails:function(t){var e={},a=this,s=i.a.service(k);a.searchStaffInfo=t,e={searchUserId:t.userId,sessionType:"2"},Object(r.requestMethod)(e,"/yfd-ums/w/user/getUserDetail").then(function(t){a.off.noStaffd=!1,a.off.staffD=!0,a.searchRes=t.data,t.code}).then(function(){s.close()}).catch(function(t){return Object(o.errorDeal)(t)})},btnYes:function(){var t=this,e={operateUserIds:[]},a=this;for(var s in a.lists)1==a.lists[s].ischecked&&e.operateUserIds.push(a.lists[s].userId),a.lists[s].ischecked=!1;if(""==a.reason)return layer.open({content:"请输入操作原因",skin:"msg",time:2,msgSkin:"error"}),!1;if(""==a.authCode)return layer.open({content:"请输入验证码",skin:"msg",time:2,msgSkin:"error"}),!1;var n=i.a.service(k);e.reason=a.reason,e.authCode=a.authCode,Object(r.requestMethod)(e,a.doUrl).then(function(e){if(a.off.modify=!1,a.reason="",a.authCode="",200==e.code){if(layer.open({content:e.msg,skin:"msg",time:2,msgSkin:"success"}),1!=t.searchType)t.search();else if(1==t.searchType){var s=t,n={},l=i.a.service(k);s.searchDetailsType=1,s.searchDepartId=s.$parent.searchDepartId,n={searchDepartId:s.$parent.searchDepartId,userState:s.radio,username:s.name,phone:s.phone,pageNum:1,pageSize:"10"},Object(r.requestMethod)(n,"/yfd-ums/w/user/getDepartDetail").then(function(t){if(l.close(),200==t.code){for(var e in s.lists)s.lists[e].ischecked=!1;t.data.users.length,s.$parent.off.notDlsDetails=!1,s.$parent.off.dlsDetails=!0,s.$parent.detailsList=t.data.users}else Object(o.errorDeal)(t)}).catch(function(t){return Object(o.errorDeal)(t)})}}else layer.open({content:e.msg,skin:"msg",time:2,msgSkin:"error"})}).then(function(){n.close()}).catch(function(t){return Object(o.errorDeal)(t)})}}},D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.off.noStaffd?a("div",[a("div",{staticClass:"yfd"},[a("el-container",[a("header",{staticClass:"borderBottom"},[a("el-row",[a("el-col",{attrs:{xs:10,sm:10,md:10,lg:10,xl:10}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("公司名称  :  "),a("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.company))])])]),t._v(" "),a("el-col",{attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"grid-content bg-purple-light"},[t._v("联系人  :  "),a("span",[t._v(t._s(t.managerName))])])]),t._v(" "),a("el-col",{attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("手机号码  :  "),a("span",[t._v(t._s(t.managerPhone))])])]),t._v(" "),a("el-col",{attrs:{xs:2,sm:2,md:2,lg:2,xl:2}},[a("div",{staticClass:"grid-content bg-purple-light fr"},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.goBack()}}},[t._v("返回列表")])])])],1)],1)]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark searchTitleStyle"},[t._v("搜索条件")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light greyFont"},[a("el-col",{attrs:{xs:5,sm:3,md:4,lg:4,xl:4,span:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("联系人：")])]),t._v(" "),a("el-col",{attrs:{xs:19,sm:21,md:20,lg:20,xl:20,span:20}},[a("el-input",{attrs:{size:"small",placeholder:"请输入查询的联系人姓名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1)]),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light greyFont"},[a("el-col",{attrs:{xs:5,sm:3,md:4,lg:4,xl:4,span:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("手机号码：")])]),t._v(" "),a("el-col",{attrs:{xs:19,sm:21,md:20,lg:20,xl:20,span:20}},[a("el-input",{attrs:{size:"small",placeholder:"请输入查询的手机号码"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1)])],1),t._v(" "),a("el-row",{staticClass:"marginTop"},[a("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light greyFont"},[a("el-col",{attrs:{xs:5,sm:3,md:4,lg:4,xl:4,span:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("当前状态：")])]),t._v(" "),a("el-col",{attrs:{xs:19,sm:21,md:20,lg:20,xl:20,span:20}},[a("el-radio",{attrs:{label:"1,2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("全部")]),t._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("正常")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("黑名单")])],1),t._v(" "),a("el-col",{attrs:{span:2}})],1)])],1),t._v(" "),a("el-row",{staticClass:"marginTop",staticStyle:{"text-align":"center"}},[a("button",{staticClass:"searchBtn",attrs:{type:"danger"},on:{click:function(e){t.search()}}},[t._v("搜索")])])],1),t._v(" "),a("el-row",[a("el-col",{staticStyle:{float:"right"},attrs:{span:2}},[a("div",{staticClass:"grid-content bg-purple-light"},[2!=t.user.userRole&&3!=t.user.userRole?a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){t.AddStaffDiv()}}},[t._v("添加员工")]):t._e()],1)])],1),t._v(" "),t.off.addList?a("div",{staticClass:"listTitleFoot addList"},[a("div",{staticStyle:{float:"right"}},[a("button",{staticClass:"buttonAddStaff",staticStyle:{display:"block"},on:{click:function(e){t.AddList()}}},[t._v("增加一行")]),t._v(" "),a("button",{staticClass:"buttonAddStaff",on:{click:function(e){t.AddStaff()}}},[t._v("确定添加")])]),t._v(" "),t._l(t.list,function(e,s){return a("div",{key:s,staticClass:"mt8"},[t._v("\n              用户姓名 : "),a("el-input",{staticStyle:{width:"25%"},attrs:{size:"mini",maxlength:"10",placeholder:"请输入内容"},model:{value:t.list[s].username,callback:function(e){t.$set(t.list[s],"username",e)},expression:"list[i].username"}}),t._v("\n                 手机号码 : "),a("el-input",{staticStyle:{width:"25%"},attrs:{size:"mini",maxlength:"11",placeholder:"请输入内容"},model:{value:t.list[s].phone,callback:function(e){t.$set(t.list[s],"phone",e)},expression:"list[i].phone"}}),t._v("\n                 职务 : "),a("el-checkbox",{model:{value:t.list[s].checked,callback:function(e){t.$set(t.list[s],"checked",e)},expression:"list[i].checked"}},[t._v("采购员")]),a("el-checkbox",{model:{value:t.list[s].checked2,callback:function(e){t.$set(t.list[s],"checked2",e)},expression:"list[i].checked2"}},[t._v("业务员")])],1)})],2):t._e(),t._v(" "),a("div",{staticClass:"listTitleFoot"},[a("el-row",[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("员工列表")])])],1)],1),t._v(" "),a("div",{staticClass:"detailsListDiv"},[a("table",{staticClass:"searchTab",staticStyle:{width:"100%",height:"100%"}},[t._m(0),t._v(" "),t._l(t.lists,function(e,s){return a("tr",{key:s},[a("td",[a("el-checkbox",{model:{value:e.ischecked,callback:function(a){t.$set(e,"ischecked",a)},expression:"v.ischecked"}})],1),t._v(" "),a("td",[t._v("\n                      "+t._s(10*(t.pa-1)+(s+1))+"\n                  ")]),t._v(" "),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.getStaffDetails(e)}}},[t._v(t._s(e.username))])]),t._v(" "),a("td",[t._v("\n                     "+t._s(e.phone)+"\n                  ")]),t._v(" "),a("td",[t._v("\n                     "+t._s(new Date(e.createTime).toLocaleString())+"\n                  ")]),t._v(" "),a("td",t._l(e.userRole,function(e,s){return a("span",{key:s},[1==e?a("span",[t._v("管理员")]):t._e(),t._v(" "),2==e?a("span",[t._v("销售")]):t._e(),t._v(" "),3==e?a("span",[t._v("店长")]):t._e(),t._v(" "),4==e?a("span",[t._v("采购员")]):t._e(),t._v(" "),5==e?a("span",[t._v("业务员")]):t._e()])})),t._v(" "),a("td",[1==e.userState?a("span",[t._v("正常")]):t._e(),t._v(" "),2==e.userState?a("span",[t._v("黑名单")]):t._e(),t._v(" "),3==e.userState?a("span",[t._v("注销")]):t._e()]),t._v(" "),a("td",[t._v("\n                     "+t._s(new Date(e.lastLoginTime).toLocaleString())+"\n                  ")])])}),t._v(" "),a("tr",[a("td",{attrs:{colspan:"8"}},[a("span",{staticClass:"fl"},[t._v("选择 : "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.doFilter("all")}}},[t._v("全选 ")]),t._v("-"),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.doFilter("on")}}},[t._v(" 取消全选 ")])])])])],2)]),t._v(" "),a("div",{staticClass:"listTitleFoot"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":10,"current-page":t.currentPage,total:t.form.page},on:{"current-change":t.search,"update:currentPage":function(e){t.currentPage=e}}})],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light fr"},[t._v("操作:"),a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.doFunction("offLine")}}},[t._v("强制离线")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.doFunction("addBlack")}}},[t._v("加入黑名单")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.doFunction("cancelBlack")}}},[t._v("解除黑名单")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.doFunction("delete")}}},[t._v("删除")])],1)])],1)],1),t._v(" "),t.off.modify?a("div",[a("div",{staticClass:"listTitleFoot"},[a("p",{staticClass:"redFont",staticStyle:{"text-align":"right","font-size":"14px"}},[t._v("将已选择内容"+t._s(t.a))])]),t._v(" "),a("div",{staticClass:"listTitleFoot"},[a("el-input",{attrs:{size:"small",maxlength:"20",placeholder:"请输入原因，字数限制20个字符，必填"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1),t._v(" "),a("div",{staticClass:"listTitleFoot"},[a("p",{staticStyle:{"text-align":"right"}},[t._v("验证号码:"+t._s(t.user.phone)+"\n                  "),a("el-input",{staticStyle:{width:"26%"},attrs:{size:"mini",maxlength:"6",placeholder:"请输入验证码"},model:{value:t.authCode,callback:function(e){t.authCode=e},expression:"authCode"}}),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.getAuthCode()}}},[t._v("发送验证码")])],1)]),t._v(" "),a("div",{staticClass:"listTitleFoot"},[a("p",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){t.btnYes()}}},[t._v("确定")])],1)])]):t._e()],1):t._e(),t._v(" "),t.off.staffD?a("dlsStaff",{attrs:{forms:t.searchRes}}):t._e(),t._v(" "),t.off.layer?a("common-layer"):t._e()],1)},w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td"),t._v(" "),a("td",[t._v("序号")]),t._v(" "),a("td",[t._v("用户姓名")]),t._v(" "),a("td",[t._v("手机号码")]),t._v(" "),a("td",[t._v("创建时间")]),t._v(" "),a("td",[t._v("职务")]),t._v(" "),a("td",[t._v("当前状态")]),t._v(" "),a("td",[t._v("最后登录时间")])])}],C={render:D,staticRenderFns:w},T=C,S=a("Z0/y"),A=n,z=S(y,T,!1,A,"data-v-74d98114",null);e.a=z.exports},Rddz:function(t,e,a){e=t.exports=a("UTlt")(!1),e.push([t.i,"\n#detailsView[data-v-6eff86a8]{position: absolute;top: 0;left: 0;width: 100%;height: 100%;display: table; z-index: 997;text-align: center;\n}\n#detailsView>div[data-v-6eff86a8]{display: table-cell;vertical-align: middle;\n}\n#detailsView table[data-v-6eff86a8]{margin:auto;border-radius: 4px;background-color: #fff;border-collapse: collapse;table-layout: fixed;word-wrap:break-word;word-break: break-word;white-space: normal;\n}\n#detailsView table td[data-v-6eff86a8]{padding:5px 30px;\n}\n#detailsView table th[data-v-6eff86a8]{padding: 18px 0;border-radius: 4px 4px 0 0;color: #545454;font-size: 16px;\n}\n#detailsView table td>.fl[data-v-6eff86a8]{width:1rem;text-align: right;\n}\n#detailsView table td>.fright[data-v-6eff86a8]{margin-left: 1.05rem;text-align: left;\n}\n.lay-mask[data-v-6eff86a8]{position:absolute;background-color: rgba(0,0,0,0.3);z-index: -1;width: 100%;height: 100%;top: 0;left: 0;\n}\n.tdBtn span[data-v-6eff86a8]{ display: inline-block;width: 50%;height: 50px;padding: 20px;margin-top: 20px;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: pointer\n}\n.tdBtn span[data-v-6eff86a8]:nth-child(1){border-top: 1px solid #ccc;border-right: 1px solid #ccc;color: red\n}\n.tdBtn span[data-v-6eff86a8]:nth-child(2){border-top: 1px solid #ccc;color: green\n}\ntbody tr[data-v-6eff86a8]{height: 36px;\n}\n.tdBtn2[data-v-6eff86a8] {cursor: pointer\n}\n.tdBtn2 span[data-v-6eff86a8]{display: inline-block;width: 100%; -webkit-box-sizing: border-box; box-sizing: border-box;border-top:1px solid #ccc;padding-top: 10px;\n}\r\n",""])},UXm3:function(t,e,a){"use strict";function s(t){a("3jyS")}var n=a("vHnB"),l=a.n(n),i=a("04Cm"),r=a("7QWq"),o={text:"正在加载"},c={data:function(){return{count:"点击获取验证码",timer:null,show:!0,date:"",time:"",value:"",authCode:"",phone:"",userId:"",authCodeUrl:"",syncUrl:"",user:"",btnDisabled:!1,off:{set:!1,sync:!1,rsync:!1}}},created:function(){var t=this,e=Object(r.getStore)("YFD_NMS_INFO");t.user=e,1==t.$parent.off.setSync?(t.off.set=!0,t.off.sync=!1):1==t.$parent.off.sync&&(t.off.sync=!0,t.off.set=!1)},methods:{getAuthCode:function(t){var e=this;this.timer||(this.count=120,this.show=!1,this.timer=setInterval(function(){e.count>0&&e.count<=120?(e.btnDisabled=!0,e.count--):(e.btnDisabled=!1,e.show=!0,e.count="点击获取验证码",clearInterval(e.timer),e.timer=null)},1e3));var a=this,s={userId:a.user.userId,phone:a.user.phone||""};window.location.hash.indexOf("agent")>-1?a.authCodeUrl="/yfd-uus/w/user/getAuthCode":window.location.hash.indexOf(!1)&&(a.authCodeUrl="/yfd-nus/w/number/getAuthCode"),Object(i.requestMethod)(s,a.authCodeUrl).then(function(t){t.hasOwnProperty("code")&&200==t.code?layer.open({content:t.msg,skin:"msg",time:2,msgSkin:"success"}):t.hasOwnProperty("code")&&200!=t.code?layer.open({content:t.msg,skin:"msg",time:2,msgSkin:"error"}):layer.open({content:t,skin:"msg",time:2,msgSkin:"error"})}).catch(function(t){return errorDeal(t)})},btnYes:function(t){var e=this;if(console.log(e.authCode),""==e.authCode)return layer.open({content:"请输入验证码",skin:"msg",time:2,msgSkin:"error"}),!1;var a=l.a.service(o),s={userId:e.user.userId,phone:e.user.phone||"",authCode:e.authCode};window.location.hash.indexOf("agent")>-1?e.syncUrl="/yfd-uus/w/user/sync":window.location.hash.indexOf(!1)&&(e.syncUrl="/yfd-nus/w/number/sync"),Object(i.requestMethod)(s,e.syncUrl).then(function(t){a.close(),t.hasOwnProperty("code")&&200==t.code?(e.off.sync=!1,e.off.rsync=!0,layer.open({content:t.msg,skin:"msg",time:2,msgSkin:"success"})):t.hasOwnProperty("code")&&200!=t.code?layer.open({content:t.msg,skin:"msg",time:2,msgSkin:"error"}):layer.open({content:t,skin:"msg",time:2,msgSkin:"error"})}).catch(function(t){return errorDeal(t)})},close:function(){this.$parent.off.layer=!1}}},d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"greyFont",attrs:{id:"detailsView"}},[t.off.set?a("div",[a("table",[t._m(0),t._v(" "),a("tbody",[a("tr",[a("td",[a("span",{staticClass:"demonstration"},[t._v("同步开始日期  :  ")]),t._v(" "),a("el-date-picker",{attrs:{size:"small",type:"date",placeholder:"选择日期"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)]),t._v(" "),a("tr",[a("td",[a("span",{staticClass:"demonstration"},[t._v("同步开始时间  :  ")]),t._v(" "),a("el-time-select",{attrs:{size:"small","picker-options":{start:"08:30",step:"00:15",end:"18:30"},placeholder:"选择时间"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)]),t._v(" "),a("tr",[a("td",[a("span",{staticClass:"demonstration"},[t._v("同步间隔时间  :  ")]),t._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),a("tr",{staticClass:"tdBtn",attrs:{colspan:"2"}},[a("span",{on:{click:function(e){t.close()}}},[t._v("取消")]),t._v(" "),a("span",{on:{click:function(e){t.btnYes(1)}}},[t._v("确认")])])])]),t._v(" "),a("div",{staticClass:"lay-mask"})]):t._e(),t._v(" "),t.off.sync?a("div",[a("table",{staticStyle:{padding:"20px"}},[t._m(1),t._v(" "),a("tbody",[a("tr",{attrs:{colspan:"2"}},[a("td",{staticClass:"fl"},[a("p",[t._v("验证号码:"),a("span",{model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}},[t._v(t._s(t.user.phone))])])])]),t._v(" "),a("tr",{attrs:{colspan:"2"}},[a("el-input",{staticStyle:{width:"166px"},attrs:{size:"mini",maxlength:6,placeholder:"请输入短信验证码"},model:{value:t.authCode,callback:function(e){t.authCode=e},expression:"authCode"}}),a("el-button",{staticClass:"borderInputHarf",staticStyle:{width:"112px"},attrs:{size:"mini",type:"primary",disabled:t.btnDisabled},on:{click:function(e){t.getAuthCode(t.userId)}},model:{value:t.count,callback:function(e){t.count=e},expression:"count"}},[t._v(t._s(t.count))])],1),t._v(" "),a("tr",{staticClass:"tdBtn",attrs:{colspan:"2"}},[a("span",{on:{click:function(e){t.close()}}},[t._v("取消")]),t._v(" "),a("span",{on:{click:function(e){t.btnYes(2)}}},[t._v("确认")])])])]),t._v(" "),a("div",{staticClass:"lay-mask"})]):t._e(),t._v(" "),t.off.rsync?a("div",[a("table",[a("tbody",[t._m(2),t._v(" "),a("tr",{attrs:{colspan:"2"}},[t._v("\r\n\t\t\t\t\t码号手动同步已受理，请耐心等待结果\r\n\t\t\t\t")]),t._v(" "),a("tr",{staticClass:"tdBtn2",attrs:{colspan:"2"}},[a("span",{on:{click:function(e){t.close()}}},[t._v("确认")])])])]),t._v(" "),a("div",{staticClass:"lay-mask"})]):t._e()])},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{colspan:"2"}},[t._v("\r\n\t\t\t\t\t\t同步设置\r\n\t\t\t\t\t")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{colspan:"2"}},[t._v("\r\n\t\t\t\t\t\t手动同步\r\n\t\t\t\t\t")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{attrs:{colspan:"2"}},[s("img",{attrs:{src:a("yHl6"),alt:""}})])}],u={render:d,staticRenderFns:p},v=u,h=a("Z0/y"),f=s,m=h(c,v,!1,f,"data-v-7e88f344",null);e.a=m.exports},my9E:function(t,e,a){"use strict";function s(t){a("Cxh2")}var n=(a("R2SV"),{data:function(){return{startTime:"",endTime:"",cname:"",phone:"",name:"",radio:"2",timeType:"a",options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],off:{showSearch:""}}},created:function(){var t=this;t.off.showSearch=t.$route.name},beforeDestroy:function(){},mounted:function(){},computed:{},methods:{search:function(t){if(this.$emit("child-say",this.ix),"dls"==t){var e=this,a=(e.cname,e.name,e.startTime,e.endTime,e.phone,e.radio,e.timeType,this.$parent);a.off.dlsList=!0,a.details=this.ix}else if("staff"==t);}}}),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"grey"},["card"==t.off.showSearch?a("div",{staticClass:"dls"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark searchTitleStyle"},[t._v("搜索条件")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("号包名称：")])]),t._v(" "),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{size:"mini",placeholder:"请输入号包名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),a("el-col",{attrs:{span:2}})],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("联系人：")])]),t._v(" "),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{size:"mini",placeholder:"请输入查询的联系人姓名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),a("el-col",{attrs:{span:2}})],1)])],1),t._v(" "),a("el-row",{staticClass:"marginTop"},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("号包类型：")])]),t._v(" "),a("el-col",{attrs:{span:18}},[a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("全部")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("整号段")]),t._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("靓号包")]),t._v(" "),a("el-radio",{attrs:{label:"4"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("普号包")])],1),t._v(" "),a("el-col",{attrs:{span:2}})],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("手机号码：")])]),t._v(" "),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{size:"mini",placeholder:"请输入查询的手机号码"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),t._v(" "),a("el-col",{attrs:{span:2}})],1)])],1),t._v(" "),a("el-row",{staticClass:"marginTop"},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("当前状态：")])]),t._v(" "),a("el-col",{attrs:{span:18}},[a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("全部")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("未上架")]),t._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("已上架")]),t._v(" "),a("el-radio",{attrs:{label:"4"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("已售")]),t._v(" "),a("el-radio",{attrs:{label:"5"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("已下架")])],1),t._v(" "),a("el-col",{attrs:{span:2}})],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("运营商：")])]),t._v(" "),a("el-col",{attrs:{span:18}},[a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("全部")]),t._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("移动")]),t._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("联通")]),t._v(" "),a("el-radio",{attrs:{label:"4"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("电信")])],1),t._v(" "),a("el-col",{attrs:{span:2}})],1)])],1),t._v(" "),a("el-row",{staticClass:"marginTop"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("运营商：")])]),t._v(" "),a("el-col",{attrs:{span:18}},[a("el-checkbox",{model:{value:t.yt,callback:function(e){t.yt=e},expression:"yt"}},[t._v("远特通信")]),t._v(" "),a("el-checkbox",{model:{value:t.wn,callback:function(e){t.wn=e},expression:"wn"}},[t._v("蜗牛通信")]),t._v(" "),a("el-checkbox",{model:{value:t.dxt,callback:function(e){t.dxt=e},expression:"dxt"}},[t._v("迪信通")]),t._v(" "),a("el-checkbox",{model:{value:t.jx,callback:function(e){t.jx=e},expression:"jx"}},[t._v("极信通信")]),t._v(" "),a("el-checkbox",{model:{value:t.xm,callback:function(e){t.xm=e},expression:"xm"}},[t._v("小米通信")]),t._v(" "),a("el-checkbox",{model:{value:t.hh,callback:function(e){t.hh=e},expression:"hh"}},[t._v("海航通信")]),t._v(" "),a("el-checkbox",{model:{value:t.ly,callback:function(e){t.ly=e},expression:"ly"}},[t._v("乐语通信")]),t._v(" "),a("el-checkbox",{model:{value:t.sn,callback:function(e){t.sn=e},expression:"sn"}},[t._v("苏宁互联")])],1),t._v(" "),a("el-col",{attrs:{span:2}})],1)])],1),t._v(" "),a("el-row",{staticClass:"marginTop",staticStyle:{"text-align":"center"}},[a("button",{staticClass:"searchBtn",on:{click:function(e){t.search("dls")}}},[t._v("搜索")])])],1):t._e()])},i=[],r={render:l,staticRenderFns:i},o=r,c=a("Z0/y"),d=s,p=c(n,o,!1,d,null,null);e.a=p.exports},"oT+8":function(t,e,a){e=t.exports=a("UTlt")(!1),e.push([t.i,"\n.listTitleFoot[data-v-dd45d590]{width: 96%;margin: 10px 18px;\n}\n",""])},tyva:function(t,e,a){"use strict";function s(t){a("2Xdg")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("vHnB"),l=a.n(n),i=a("R2SV"),r=a("04Cm"),o=a("my9E"),c=a("UXm3"),d=a("KK+K"),p={text:"正在加载"},u={name:"dls",data:function(){return{currentPage:0,hesdUserName:"",headPhone:"",total:"",startTime:"",endTime:"",cname:"",phone:"",name:"",radio:"1,3",timeType:"1",detailsList:[],pa:1,companyName:"",managerName:"",managerPhone:"",searchDetailsType:"",off:{dlsList:!1,layer:!1,dlsDetails:!1,notDlsDetails:!0},form:{page:0},searchList:"",details:{},pickerOptionsS:{disabledDate:function(t){var e=(new Date).getTime(),a=new Date(e).getFullYear(),s=new Date(e).getMonth()+1,n=(new Date(e).getDate(),s+1),l=a+"/"+s+"/1",i=a+"/"+n+"/1",r=new Date(i)-864e5;return l=new Date(l).getTime(),t.getTime()>r||t.getTime()<l}},pickerOptionsE:{disabledDate:function(t){var e=(new Date).getTime(),a=new Date(e).getFullYear(),s=new Date(e).getMonth()+1,n=(new Date(e).getDate(),s+1),l=a+"/"+s+"/1",i=a+"/"+n+"/1",r=new Date(i)-864e5;return l=new Date(l).getTime(),t.getTime()>r||t.getTime()<l}}}},components:{"common-search":o.a,"common-layer":c.a,"dls-Details":d.a},created:function(){var t=this,e=(new Date).getTime(),a=new Date(e).getMonth()+1,s=new Date(e).getFullYear(),n=new Date(e).getDate()+1,l=s+"/"+a+"/1",i=s+"/"+a+"/"+n;t.startTime=new Date(l).getTime(),t.endTime=new Date(i).getTime()-1e3},methods:{openSet:function(){var t=this;t.off.layer=!0,t.off.setSync=!0,t.off.sync=!1},sync:function(){var t=this;t.off.layer=!0,t.off.setSync=!1,t.off.sync=!0},search:function(t){if(0==this.startTime.length||0==this.endTime.length)return layer.open({content:"请选择开始和结束时间",skin:"msg",time:2,msgSkin:"error"}),!1;var e=l.a.service(p),a={},s=this;s.pa=t||1,s.currentPage=t||1,a={startTime:new Date(s.startTime).getTime()||"",endTime:new Date(s.endTime).getTime()||"",searchType:s.timeType,departName:s.cname,managerName:s.name,departState:s.radio,phone:s.phone,pageSize:15,pageNum:t||1},Object(r.requestMethod)(a,"/yfd-ums/w/user/departSearch").then(function(t){e.close(),200==t.code?(s.total=t.data.total,s.searchList=t.data.departs,s.form.page=t.data.total):Object(i.errorDeal)(t)}).then(function(){}).catch(function(t){return Object(i.errorDeal)(t)})},getDetails:function(t){var e=this,a={},s=l.a.service(p);e.searchDetailsType=1,e.searchDepartId=t.departId,a={searchDepartId:t.departId,userState:"1,2",username:"",phone:"",pageNum:"1",pageSize:"10"},e.companyName=t.departName,e.managerName=t.managerName,e.managerPhone=t.phone,Object(r.requestMethod)(a,"/yfd-ums/w/user/getDepartDetail").then(function(t){s.close(),200==t.code?t.data.users.length>0?(e.off.notDlsDetails=!1,e.off.dlsDetails=!0,e.detailsList=t.data.users,e.headUserName=t.data.users[0].username,e.headPhone=t.data.users[0].phone):(e.off.notDlsDetails=!1,e.off.dlsDetails=!0,e.detailsList=[],e.detailsList.username="",e.detailsList.phone=""):Object(i.errorDeal)(t)}).catch(function(t){return Object(i.errorDeal)(t)})}}},v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[t.off.notDlsDetails?a("div",[a("div",{staticClass:"dls greyFont"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-dark searchTitleStyle black"},[t._v("搜索条件")])])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-col",{attrs:{xs:4,sm:3,md:3,lg:2,xl:2}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("选择时间：")])]),t._v(" "),a("el-col",{attrs:{xs:20,sm:14,md:14,lg:9,xl:10}},[a("el-date-picker",{attrs:{size:"small",type:"datetime","picker-options":t.pickerOptionsS,placeholder:"选择开始时间"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),t._v(" "),a("span",[t._v("——")]),t._v(" "),a("el-date-picker",{attrs:{size:"small",type:"datetime","picker-options":t.pickerOptionsE,placeholder:"选择结束时间"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1),t._v(" "),a("el-col",{staticStyle:{"font-size":"18px"},attrs:{xs:20,sm:7,md:7,lg:10,xl:12}},[t._v("\r\n                    ( "),a("el-radio",{attrs:{label:"2"},model:{value:t.timeType,callback:function(e){t.timeType=e},expression:"timeType"}},[t._v("修改时间")]),t._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:t.timeType,callback:function(e){t.timeType=e},expression:"timeType"}},[t._v("创建时间")]),t._v(" )\r\n                ")],1)],1)])],1),t._v(" "),a("el-row",{staticClass:"marginTop"},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-col",{attrs:{xs:4,sm:6,md:6,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("公司名称：")])]),t._v(" "),a("el-col",{attrs:{xs:20,sm:12,md:12,lg:16,xl:16}},[a("el-input",{attrs:{maxlength:30,size:"small",placeholder:"请输入查询的公司名称"},model:{value:t.cname,callback:function(e){t.cname=e},expression:"cname"}})],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:6,md:6,lg:4,xl:4}})],1)]),t._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:4,sm:5,md:5,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("联系人：")])]),t._v(" "),a("el-col",{attrs:{xs:20,sm:12,md:12,lg:16,xl:16}},[a("el-input",{attrs:{maxlength:20,size:"small",placeholder:"请输入查询的联系人姓名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:7,md:7,lg:4,xl:4}})],1)])],1),t._v(" "),a("el-row",{staticClass:"marginTop"},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:4,sm:5,md:5,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("当前状态：")])]),t._v(" "),a("el-col",{attrs:{xs:20,sm:16,md:12,lg:16,xl:16}},[a("el-radio",{attrs:{label:"1,3"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("全部")]),t._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("正常")]),t._v(" "),a("el-radio",{attrs:{label:"3"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("注销")])],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:2,md:7,lg:4,xl:4}})],1)]),t._v(" "),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{attrs:{xs:4,sm:5,md:5,lg:4,xl:4}},[a("div",{staticClass:"grid-content bg-purple-dark textR inputTitle"},[t._v("联系人号码：")])]),t._v(" "),a("el-col",{attrs:{xs:20,sm:12,md:12,lg:16,xl:16}},[a("el-input",{attrs:{maxlength:11,size:"small",placeholder:"请输入联系人号码"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:7,md:7,lg:4,xl:4}})],1)])],1),t._v(" "),a("el-row",{staticClass:"marginTop",staticStyle:{"text-align":"center"}},[a("button",{staticClass:"searchBtn",on:{click:function(e){t.search()}}},[t._v("搜索")])])],1),t._v(" "),t.searchList?a("div",[t.searchList.length>0?a("div",[a("div",{staticClass:"listTitleFoot"},[a("p",[t._v("代理商列表"),t.total?a("span",{staticClass:"greyFont fontWeight"},[t._v(" ("+t._s(t.total)+")")]):t._e()])]),t._v(" "),a("div",{staticClass:"detailsListDiv"},[a("table",{staticClass:"searchTab",staticStyle:{width:"100%",height:"100%"}},[a("tr",[a("td",{attrs:{colspan:"8"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-button",{staticClass:"fr",attrs:{type:"success",size:"mini"},on:{click:function(e){t.sync()}}},[t._v("手动同步")])],1)])],1)],1)]),t._v(" "),t._m(0),t._v(" "),t._l(t.searchList,function(e,s){return a("tr",{key:s,class:{greyFont:3==e.departState}},[a("td",[t._v("\r\n                        "+t._s(15*(t.pa-1)+(s+1))+"\r\n                        ")]),t._v(" "),a("td",[t._v("\r\n                        "+t._s(new Date(e.modifyTime).toLocaleString())+"\r\n                        ")]),t._v(" "),a("td",[t._v("\r\n                        "+t._s(e.departName)+"\r\n                        ")]),t._v(" "),a("td",[t._v("\r\n                        "+t._s(e.managerName)+"\r\n                        ")]),t._v(" "),a("td",[t._v("\r\n                        "+t._s(e.phone)+"\r\n                        ")]),t._v(" "),a("td",[1==e.departState?a("span",[t._v("\r\n                                正常\r\n                        ")]):t._e(),t._v(" "),3==e.departState?a("span",[t._v("\r\n                                黑名单\r\n                        ")]):t._e()]),t._v(" "),a("td",[t._v("\r\n                        "+t._s(new Date(e.createTime).toLocaleString())+"\r\n                        ")]),t._v(" "),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){t.getDetails(e)}}},[t._v("查看详情")])])])}),t._v(" "),0==t.searchList.length?a("tr",[a("td",{staticStyle:{"text-align":"center","font-size":"16px","font-weight":"bold"},attrs:{colspan:"8"}},[t._v("\r\n                            查询结果为空\r\n                    ")])]):t._e()],2)]),t._v(" "),a("div",{staticClass:"listTitleFoot"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":15,"current-page":t.currentPage,total:t.form.page},on:{"current-change":t.search,"update:currentPage":function(e){t.currentPage=e}}})],1)]),t._v(" "),a("el-col",{attrs:{span:12}})],1)],1)]):t._e(),t._v(" "),0==t.searchList.length?a("div",{staticClass:"searchResultInfoNone"},[t._v("\r\n          查询结果为空!\r\n        ")]):t._e()]):t._e()]):t._e(),t._v(" "),t.off.layer?a("common-layer"):t._e(),t._v(" "),t.off.dlsDetails?a("dls-Details",{attrs:{lists:t.detailsList}}):t._e()],1)},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[t._v("序号")]),t._v(" "),a("td",[t._v("修改时间")]),t._v(" "),a("td",[t._v("公司名称")]),t._v(" "),a("td",[t._v("联系人")]),t._v(" "),a("td",[t._v("手机号码")]),t._v(" "),a("td",[t._v("部门状态")]),t._v(" "),a("td",[t._v("创建时间")]),t._v(" "),a("td",[t._v("员工详情")])])}],f={render:v,staticRenderFns:h},m=f,g=a("Z0/y"),_=s,b=g(u,m,!1,_,"data-v-dd45d590",null);e.default=b.exports},"uCT+":function(t,e,a){e=t.exports=a("UTlt")(!1),e.push([t.i,"\n.searchTitleStyle {padding:0px 30px;font-size: 16px;\n}\r\n/* .el-row.marginTop{margin-top: 18px;} */\n.el-row .textR{text-align: right;height: 100%\n}\n.el-row .textL{text-align: left;\n}\n.inputTitle{font-size: .14rem;\n}\ntable.searchTab{border-collapse:collapse;text-align: center\n}\ntable.searchTab a{color:#43AAD4\n}\ntable.searchTab a:active{color:rgb(82, 24, 241)\n}\ntable.searchTab tr td{ border-bottom:1px solid rgb(235, 235, 235);\n}\ntable.searchTab tr td:last-child{ border-bottom:none;\n}\ntable.searchTab tr{height:35px;\n}\ntable.searchTab tr:nth-child(even){background: #FAFBFD;\n}\ndiv.detailsListDiv{margin: 10px 20px;border: 1px solid #ccc;\n}\n.searchBtn{width: 140px;height: 36px;background: #FE8800;border: 1px solid #FE8800;outline: none;border-radius: 8px;color: white\n}\n.searchBtn:active{-webkit-box-shadow: 0 0 5px red;box-shadow: 0 0 5px red\n}\n.grey{color: grey\n}\r\n",""])},yHl6:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAMAAAC7faEHAAAAA3NCSVQICAjb4U/gAAAAtFBMVEX////vEBDuDyjvEBDtDBDwGQ/vEBDwGQ/vEBDwDxrtDBDvEBDtDBDvEBDvEBDvEBDtDBDvEBDtDBDtDBDvEBDtDBDvEBDtDBDtDBD////++Pj98PD85eX82tr609P60dH/zMz5xMT5vLz3tbX3rKz3qKn1m5v2kpL1hYb0f4DzdXX3a2vyaWnyY2TyXV3wUlPwSUnwQELvOTrvNTbvMTLvJifuISLtGRrvEBDtDBDtCAnsAADg476PAAAAPHRSTlMAESIiIjMzRERERFVVd4iZmaqqu8zM3d3u///////////////////////////////////////////////dkWrFAAAACXBIWXMAAAsSAAALEgHS3X78AAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M1cbXjNgAAAaNJREFUOI11lFtbwjAMhjNBnUMs0I0tDA8wPIvARLe2//9/OQZimpbvYhfZ++TcAFB1e0Im42ycSNHrwClFIlH/SkTkpS6GmbKViQsX63OqJfuM6o481E6jLsXC5ATWpBkSb+lJTKn06DGQ1K6NMZoaZHDgBpSq18v35cYixR67JKb64yFHxLwoDan6vOWGxNtyB02bz7QkHodtraRx+g2LVfn1eYe4oA53NdPO6eW7NlqbbY7TH9thJ6a1VYefc8w3hIs70FM+zXD6TUsO4cZD6XKChaGWG/AMVlcznGysXo/AnayuCsRXC1MJOKP1YSoFZ+30E+KLZlwGY46tJrioGabGIJlFPWFempoZJZ3uXgXeOlhTr9O/R8y3PGzTvysnv3mxcrgQgpiDxnBKxQHwBGvdiOc3avaKL0L18vzN44Zsn9W+zQvmr91nOLdH0kxtVlkOD+8DhOVvM7tf23GF//1WPzZ2fL/sHrAdSMmFuTp9OFJyXwDOnHX4C3pmH7ZAeDERANe1dO7p8NqhdooG1n0e+O9zGz3qD2ScxVL0IzviL4IS9aLsI11XAAAAAElFTkSuQmCC"}});